
    <link rel="stylesheet" href="{{ asset('css/style-budgetisation-referencement.css') }}" />
    <script src="http://code.jquery.com/jquery.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-3-typeahead/4.0.2/bootstrap3-typeahead.min.js"> </script>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" />
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.min.js"> </script>
    <link rel="stylesheet" href="{{ asset('css/style-budgetisation-referencement.css') }}" />
    <section  id="fond-1" align=center>

        <div class="container">

            <div class="row">

                <div class="col-md-12 col-sm-12 col-xs-12" align=center>
                    <div class="titre-1">
                        <p>Budgétisation</p>
                    </div>
                    <div class="titre-2">
                        <p class="acroche"><span style="color: #ffdb2e"><strong>Optimisez</strong></span> votre présence sur les moteurs de recherche
                            <br>
                            et sur telecontact.ma
                        </p>
                    </div>
                    <div class="form-inline" >


                    </div>
                </div>
            </div>

        </div>



    </section>
    <section  id="fond-2" >

        <form id="jsForm" class="form-group" action="" method="GET">
    <div class="container" style="width: 1800px!important; ">





<div class="row">
    <div class="activites" style="margin-left: 68px!important;">
        <div class="btn-2" align="center">
            <p >Mes activités</p>
        </div>
        <div class="form-group" style="margin-top: 36px">
            <label for="exampleInputAmount">Rubriques</label>
            <div class="input-group ">
                <input type="number" class="form-control exampleInputAmount rubrique mySelect"   {% if referencement['rubrique'] %} value="{{  referencement['rubrique']}}" {% else %} value="0"{% endif %}  placeholder="Nbre" name="num1" id="num1" min="0" max="5" style="width:194px;" >
            </div>
        </div>
        <br>
        <div class="form-group">
            <label for="exampleInputAmount">Prestations</label>
            <div class="input-group">
                <input type="number" class="form-control exampleInputAmount" {% if referencement['prest'] %} value="{{  referencement['prest']}}" {% else %} value="0"{% endif %}   placeholder="Nbre" name="sum" id="sum" readonly>
            </div>
        </div>
        <br>
        <div class="form-group">
            <label for="exampleInputAmount"> Prestations suppl</label>
            <div class="input-group">

                <input type="number" class="form-control exampleInputAmount pres_marq" {% if referencement['prest_sup'] %} value="{{  referencement['prest_sup']}}" {% else %} value="0"{% endif %}  placeholder="Nbre" name="num2" id="num2" min="0">
            </div>
        </div>
        <tr><td><input type="number" name="sum2" id="sum2" class="pres_marq" style="display:none;" /></td></tr>
        <br>
        <div class="form-group">
            <label for="exampleInputAmount"> Marque</label>
            <div class="input-group">
                <input type="number" class="form-control exampleInputAmount pres_marq positionnement"  {% if referencement['marque'] %} value="{{  referencement['marque']}}" {% else %} value="0"{% endif %} placeholder="Nbre" name="num3" id="num3" min="0">
            </div>
        </div>
        <td><input type="number"  id="sum3" name="sum3"  class="pres_marq" {% if referencement['sum3'] %} value="{{  referencement['sum3']}}" {% else %} value="0"{% endif %}  style="display:none;" /></td>
        <td> <input type="number" id="mari" name="mari"  {% if referencement['mari'] %} value="{{  referencement['mari']}}" {% else %} value="0"{% endif %}   style="display: none" ></td>
        <td> <input type="number" id="marque_pack" name="marque_pack" {% if referencement['marque_pack'] %} value="{{  referencement['marque_pack']}}" {% else %} value="0"{% endif %}  style="display: none" ></td>
        <td> <input type="number" id="resulta" name="resulta" {% if referencement['resulta'] %} value="{{  referencement['resulta']}}" {% else %} value="0"{% endif %}    style="display: none"></td>
        <td> <input type="number" id="resulta2" name="resulta2"  {% if referencement['resulta2'] %} value="{{  referencement['resulta2']}}" {% else %} value="0"{% endif %} style="display: none" ></td>

        <td> <input type="number" id="rubd"  name="rubd"     {% if referencement['rubd'] %} value="{{  referencement['rubd']}}" {% else %} value="0"{% endif %} style="display: none"></td>
        <td><input type="number" id="rania" name="rania"    {% if referencement['rania'] %} value="{{  referencement['rania']}}" {% else %} value="0"{% endif %} style="display: none"></td>
        <td><input type="number" id="raniad" name="raniad"  {% if referencement['raniad'] %} value="{{  referencement['raniad']}}" {% else %} value="0"{% endif %} style="display: none"></td><br>

    </div>

</div>
        <div style="margin-left: 41px;">

            <button class="plus_details"  id="rubrique" type="button" data-toggle="collapse" data-target="#demo-10">
                Plus de détails
            </button>
            <br><br>

            <div id="demo-10" class="collapse">
                <input type="number" id="r_count" ><input type="number" id="p_count" >
                <p class="p_details_tub" >Vous avez choisi d'être référencé sur <input id="nbr_rubrique" type="text"  readonly/>rubrique avec  prestations <input id="nbr_prestattion" type="text"  readonly/><br> Veuillez séléctionner les rubrique et prestations rattachées</p>
                <div id="contenu_lists">

                    <form id="rub_prest"  action="" method="GET">

                        <div class="row">

                        <div class="col-md-3">

                            <div id="select_rub_prest" >
                                <div  class="form-group" >
                                    <div class="dropdown">
                                        <button class="btn dropdown-toggle multiselect" type="button" style="width: 400px;" id="rubrique1" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                            <span id="select_rub">Sélectionner la rubrique principale</span><span id="rubrique_view"></span>

                                            <span class="caret"></span></button>
                                        <ul class=" dropdown-menu r mySelect ul_rub" id="select-rubrique"  >
                                            <input type="text" id="myInput" class="form-control" placeholder="search" style="border-radius: -2px!important;">
                                            {# <span id="searchclear" class="glyphicon glyphicon-remove-circle"></span>#}
                                            <span class="glyphicon glyphicon-search form-control-feedback" style="line-height: 44px;"></span>
                                            <table id="myTable">
                                                <tbody >

                                                {% for rubriqu in rubriques %}
                                                    <tr>
                                                        <td >
                                                            <label><input class="select_rub checkbox_rub chnage_color r first" id="check" name="check" type="checkbox" value="{{ rubriqu.id }}|{{ rubriqu.type  }}" ><h7 class="label_rub" >{{ rubriqu.libelle }}</h7></label>
                                                        </td>
                                                    </tr>
                                                {% endfor %}
                                                </tbody>
                                            </table>
                                        </ul>
                                    </div>
                                </div>

                                <div  class="form-group testpres" style="margin-bottom: 20px!important;">
                                </div>
                            </div>


                        </div>
                        <div class="col-md-3">
                            <div  class="form-group" >
                                <div class="dropdown">


                                    <button type="button" id="dropdownMenu1"  class="btn dropdown-toggle multiselect" data-toggle="dropdown" style="width: 400px;"  aria-haspopup="true" aria-expanded="false">
                                        <span id="select_ville_principe">   Ville de parution &nbsp; </span><span id="ville_principe_view"></span>
                                    </button>


                                    <ul class=" dropdown-menu mySelect ul_rub ville" id="select-rubrique" >

                                        <input type="text" id="myInput_ville_first" class="form-control" placeholder="search"  style="border-radius: -2px!important;">
                                        <span class="glyphicon glyphicon-search form-control-feedback" style="line-height: 44px;"></span>

                                        <table id="myTable_ville">
                                            <tbody >

                                            <tr>
                                                <td>
                                                    <label >
                                                        <input id="villes" class="arms select_rub  chnage_color  ville_first" type="checkbox"  name="villes" value="91010|1"><h7 class="label_rub" >Casablanca</h7>
                                                    </label>
                                                </td>
                                            </tr>

                                            <tr>
                                                <td>
                                                    <label>
                                                        <input id="villes" class="arms select_rub   chnage_color ville_first" type="checkbox" name="villes" value="101010|2"><h7 class="label_rub" >Rabat</h7>
                                                    </label>
                                                </td>
                                            </tr>
                                            <tr>
                                                <td>
                                                    <label>
                                                        <input id="villes" class="arms select_rub  chnage_color ville_first" type="checkbox" name="villes" value="141010|3"><h7 class="label_rub" >Fès</h7>
                                                    </label>
                                                </td>
                                            </tr>
                                            <tr>
                                                <td>
                                                    <label>
                                                        <input id="villes" class="arms select_rub  chnage_color ville_first" type="checkbox" name="villes" value="41110|3"><h7 class="label_rub" >Agadir</h7>
                                                    </label>
                                                </td>
                                            </tr>
                                            <tr>
                                                <td>
                                                    <label>
                                                        <input id="villes" class="arms select_rub  chnage_color ville_first" type="checkbox" name="villes" value="163010|2"><h7 class="label_rub" >Tanger</h7>
                                                    </label>
                                                </td>
                                            </tr>
                                            <tr>
                                                <td>
                                                    <label>
                                                        <input id="villes" class="arms select_rub  chnage_color ville_first" type="checkbox" name="villes" value="71010|2"><h7 class="label_rub" >Marrakech</h7>
                                                    </label>
                                                </td>
                                            </tr>

                                            {% for ville in villes %}
                                                <tr>
                                                    <td>
                                                        <label>
                                                            <input id="villes" class=" arms select_rub chnage_color ville_first" type="checkbox" name="villes"  value="{{ ville.codeville }}|{{ ville.cat }}"/><h7 class="label_rub" >{{ ville.libelle }}</h7>
                                                        </label><br>
                                                    </td>
                                                </tr>
                                            {% endfor %}
                                            </tbody>
                                        </table>



                                    </ul>


                                </div>
                            </div>




                        </div>
                        <div class="col-md-3">


                            <button type="button" id="dropdownMenu2"  class="btn dropdown-toggle multiselect mySelect" data-toggle="collapse" data-target="#demo-2-2">
                                &nbsp;   <span class="glyphicon glyphicon-triangle-bottom visibilite_icon"></span>
                                <span id="select_ville_principe_supp">parution supplémentaire  </span><span id="ville_principe_view_supp"></span>
                            </button>
                            <div id="demo-2-2" class="collapse bouton-2" style="overflow-y:scroll;position: relative!important;">


                                <input type="text" id="myInput_ville_panier" class="form-control" placeholder="search" >
                                <span class="glyphicon glyphicon-search form-control-feedback search_ville" ></span>

                                <div class="form-inline" id="dropdownMenu2" >
                                    <table id="myTable_ville_panier">
                                        <tbody >

                                        <tr>
                                            <td>
                                                <label data-toggle="collapse" data-target="#demo-2-2" aria-expanded="true" aria-controls="collapseOne" class="checkbox-inline" id="ville_casa">
                                                    <input id="select" class="armss my-activitys  select_rub first" type="checkbox"  name="villes_panier[]" value="91010|Casablanca|1">Casablanca
                                                </label><br>
                                            </td>
                                        </tr>

                                        <tr>
                                            <td>
                                                <label data-toggle="collapse" data-target="#demo-2-2" aria-expanded="true" aria-controls="collapseOne" class="checkbox-inline">
                                                    <input id="select" class="armss my-activitys  select_rub first" type="checkbox" name="villes_panier[]" value="101010|Rabat|2">Rabat
                                                </label><br>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td>
                                                <label data-toggle="collapse" data-target="#demo-2-2" aria-expanded="true" aria-controls="collapseOne" class="checkbox-inline">
                                                    <input id="select" class="armss my-activitys  select_rub first" type="checkbox" name="villes_panier[]" value="141010|Fès|3">Fès
                                                </label><br>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td>
                                                <label data-toggle="collapse" data-target="#demo-2-2" aria-expanded="true" aria-controls="collapseOne" class="checkbox-inline">
                                                    <input id="select" class="armss my-activitys  select_rub first" type="checkbox" name="villes_panier[]" value="41110|Agadir|3">Agadir
                                                </label><br>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td>
                                                <label data-toggle="collapse" data-target="#demo-2-2" aria-expanded="true" aria-controls="collapseOne" class="checkbox-inline">
                                                    <input id="select" class="armss my-activitys  select_rub first" type="checkbox" name="villes_panier[]" value="163010|Tanger|2">Tanger
                                                </label><br>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td>
                                                <label data-toggle="collapse" data-target="#demo-2-2" aria-expanded="true" aria-controls="collapseOne" class="checkbox-inline">
                                                    <input id="select" class="armss my-activitys  select_rub first" type="checkbox" name="villes_panier[]" value="71010|Marrakech|2">Marrakech
                                                </label><br>
                                            </td>
                                        </tr>

                                        {% for ville in villes %}
                                            <tr>
                                                <td>
                                                    <label data-toggle="collapse" data-target="#demo-2-2" aria-expanded="true" aria-controls="collapseOne" class="checkbox-inline">
                                                        <input id="select" class="armss my-activitys  select_rub first" type="checkbox" name="villes_panier[]"  value="{{ ville.codeville }}|{{ ville.libelle }}"/>{{ ville.libelle }}
                                                    </label><br>
                                                </td>
                                            </tr>
                                        {% endfor %}
                                        </tbody>
                                    </table>

                                </div>
                            </div>


                        </div>




                    </div>
                    <div id="select_rub_prest1" >
                        <div class="row">

                            <div class="col-md-3">



                                <div  class="form-group" >
                                    <div class="dropdown">
                                        <button class="btn dropdown-toggle multiselect" type="button" style="width: 400px;" id="rubrique1" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                            <span id="select_rub1">Sélectionner rubrique</span><span id="rubrique1_view"></span>

                                            <span class="caret"></span></button>
                                        <ul class=" dropdown-menu r1 mySelect ul_rub " id="select-rubrique"  >
                                            <input type="text" id="myInput1" class="form-control" placeholder="search" style="border-radius: -2px!important;">
                                            <span class="glyphicon glyphicon-search form-control-feedback" style="line-height: 44px;"></span>
                                            <table id="myTable1">
                                                <tbody >

                                                {% for rubriqu in rubriques %}
                                                    <tr>
                                                        <td>
                                                            <label><input class="select_rub checkbox1_rub chnage_color r1 first" id="check1" name="check1" type="checkbox" value="{{ rubriqu.id }}|{{ rubriqu.type  }}" ><h7 class="label_rub" >{{ rubriqu.libelle }}</h7></label>
                                                        </td>
                                                    </tr>
                                                {% endfor %}
                                                </tbody>
                                            </table>
                                        </ul>
                                    </div>
                                </div>

                                <div  class="form-group testpres" style="margin-bottom: 20px!important;">
                                </div>
                            </div>




                            <div class="col-md-3">

                                <div  class="form-group" >
                                    <div class="dropdown">


                                        <button type="button" id="dropdownMenu1"  class="btn dropdown-toggle multiselect" data-toggle="dropdown" style="width: 400px;"  aria-haspopup="true" aria-expanded="false">
                                            <span id="select_ville_principe_1">   Ville de parution  </span><span id="ville_principe_view_1"></span>
                                        </button>


                                        <ul class="dropdown-menu mySelect ul_rub ville1" id="select-rubrique" >

                                            <input type="text" id="myInput_ville_first_1" class="form-control" placeholder="search"  style="border-radius: -2px!important;">
                                            <span class="glyphicon glyphicon-search form-control-feedback" style="line-height: 44px;"></span>

                                            <table id="myTable_ville_1">
                                                <tbody >

                                                <tr>
                                                    <td>
                                                        <label >
                                                            <input id="villes1" class=" arms1 select_rub  chnage_color  ville_first_1" type="checkbox"  name="villes1" value="91010|1"><h7 class="label_rub" >Casablanca</h7>
                                                        </label>
                                                    </td>
                                                </tr>

                                                <tr>
                                                    <td>
                                                        <label>
                                                            <input id="villes1" class=" arms1 select_rub  chnage_color ville_first_1" type="checkbox" name="villes1" value="101010|2"><h7 class="label_rub" >Rabat</h7>
                                                        </label>
                                                    </td>
                                                </tr>
                                                <tr>
                                                    <td>
                                                        <label>
                                                            <input id="villes1" class=" arms1 select_rub  chnage_color ville_first_1" type="checkbox" name="villes1" value="141010|3"><h7 class="label_rub" >Fès</h7>
                                                        </label>
                                                    </td>
                                                </tr>
                                                <tr>
                                                    <td>
                                                        <label>
                                                            <input id="villes1" class=" arms1 select_rub  chnage_color ville_first_1" type="checkbox" name="villes1" value="41110|3"><h7 class="label_rub" >Agadir</h7>
                                                        </label>
                                                    </td>
                                                </tr>
                                                <tr>
                                                    <td>
                                                        <label>
                                                            <input id="villes1" class=" arms1 select_rub  chnage_color ville_first_1" type="checkbox" name="villes1" value="163010|2"><h7 class="label_rub" >Tanger</h7>
                                                        </label>
                                                    </td>
                                                </tr>
                                                <tr>
                                                    <td>
                                                        <label>
                                                            <input id="villes1" class=" arms1 select_rub  chnage_color ville_first_1" type="checkbox" name="villes1" value="71010|2"><h7 class="label_rub" >Marrakech</h7>
                                                        </label>
                                                    </td>
                                                </tr>

                                                {% for ville in villes %}
                                                    <tr>
                                                        <td>
                                                            <label>
                                                                <input id="villes1" class=" arms1 select_rub  chnage_color ville_first_1" type="checkbox" name="villes1"  value="{{ ville.codeville }}|{{ ville.cat }}"/><h7 class="label_rub" >{{ ville.libelle }}</h7>
                                                            </label>
                                                        </td>
                                                    </tr>
                                                {% endfor %}
                                                </tbody>
                                            </table>



                                        </ul>


                                    </div>
                                </div>



                            </div>

                            <div class="col-md-3">

                                <button type="button" id="dropdownMenu1"  class="btn dropdown-toggle multiselect mySelect" data-toggle="collapse" data-target="#demo-2-3">
                                    &nbsp;   <span class="glyphicon glyphicon-triangle-bottom visibilite_icon"></span>
                                    <span id="select_ville_principe_supp_1">parution supplémentaire &nbsp; </span><span id="ville_principe_view_supp_1"></span>
                                </button>
                                <div id="demo-2-3" class="collapse bouton-2" style="overflow-y:scroll;position: relative!important;">


                                    <input type="text" id="myInput_ville_panier_1" class="form-control" placeholder="search" >
                                    <span class="glyphicon glyphicon-search form-control-feedback search_ville" ></span>

                                    <div class="form-inline" id="dropdownMenu1" >
                                        <table id="myTable_ville_panier_1">
                                            <tbody >

                                            <tr>
                                                <td>
                                                    <label data-toggle="collapse" data-target="#demo-2-3" aria-expanded="true" aria-controls="collapseOne" class="checkbox-inline" id="ville_casa">
                                                        <input id="select" class="my-activitys armss1 select_rub first" type="checkbox"  name="villes_panier1[]" value="91010|Casablanca|1">&nbsp; &nbsp;Casablanca
                                                    </label><br>
                                                </td>
                                            </tr>

                                            <tr>
                                                <td>
                                                    <label data-toggle="collapse" data-target="#demo-2-3" aria-expanded="true" aria-controls="collapseOne" class="checkbox-inline">
                                                        <input id="select" class="my-activitys armss1 select_rub first" type="checkbox" name="villes_panier1[]" value="101010|Rabat|2">&nbsp; &nbsp;Rabat
                                                    </label><br>
                                                </td>
                                            </tr>
                                            <tr>
                                                <td>
                                                    <label data-toggle="collapse" data-target="#demo-2-3" aria-expanded="true" aria-controls="collapseOne" class="checkbox-inline">
                                                        <input id="select" class="my-activitys armss1 select_rub first" type="checkbox" name="villes_panier1[]" value="141010|Fès|3">&nbsp; &nbsp;Fès
                                                    </label><br>
                                                </td>
                                            </tr>
                                            <tr>
                                                <td>
                                                    <label data-toggle="collapse" data-target="#demo-2-3" aria-expanded="true" aria-controls="collapseOne" class="checkbox-inline">
                                                        <input id="select" class="my-activitys armss1 select_rub first" type="checkbox" name="villes_panier1[]" value="41110|Agadir|3">&nbsp; &nbsp;Agadir
                                                    </label><br>
                                                </td>
                                            </tr>
                                            <tr>
                                                <td>
                                                    <label data-toggle="collapse" data-target="#demo-2-3" aria-expanded="true" aria-controls="collapseOne" class="checkbox-inline">
                                                        <input id="select" class="my-activitys armss1 select_rub first" type="checkbox" name="villes_panier1[]" value="163010|Tanger|2">&nbsp; &nbsp;Tanger
                                                    </label><br>
                                                </td>
                                            </tr>
                                            <tr>
                                                <td>
                                                    <label data-toggle="collapse" data-target="#demo-2-3" aria-expanded="true" aria-controls="collapseOne" class="checkbox-inline">
                                                        <input id="select" class="my-activitys armss1 select_rub first" type="checkbox" name="villes_panier1[]" value="71010|Marrakech|2">&nbsp; &nbsp;Marrakech
                                                    </label><br>
                                                </td>
                                            </tr>

                                            {% for ville in villes %}
                                                <tr>
                                                    <td>
                                                        <label data-toggle="collapse" data-target="#demo-2-3" aria-expanded="true" aria-controls="collapseOne" class="checkbox-inline">
                                                            <input id="select" class="my-activitys armss1 select_rub first" type="checkbox" name="villes_panier1[]"  value="{{ ville.codeville }}|{{ ville.libelle }}"/>&nbsp; &nbsp;{{ ville.libelle }}
                                                        </label><br>
                                                    </td>
                                                </tr>
                                            {% endfor %}
                                            </tbody>
                                        </table>

                                    </div>
                                </div>




                            </div>
                        </div>

                    </div>

                    <div id="select_rub_prest2" >

                        <div class="row">

                            <div class="col-md-3">     <div  class="form-group" >
                                    <div class="dropdown">
                                        <button class="btn dropdown-toggle multiselect" type="button" style="width: 400px;" id="rubrique1" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                            <span id="select_rub2">Sélectionner rubrique</span><span id="rubrique2_view"></span>

                                            <span class="caret"></span></button>
                                        <ul class=" dropdown-menu r2 mySelect ul_rub " id="select-rubrique"  >
                                            <input type="text" id="myInput2" class="form-control" placeholder="search" style="border-radius: -2px!important;">
                                            <span class="glyphicon glyphicon-search form-control-feedback" style="line-height: 44px;"></span>
                                            <table id="myTable2">
                                                <tbody >

                                                {% for rubriqu in rubriques %}
                                                    <tr>
                                                        <td>
                                                            <label><input class="select_rub checkbox2_rub chnage_color r2 first" id="check2" name="check2" type="checkbox"  value="{{ rubriqu.id }}|{{ rubriqu.type  }}" ><h7 class="label_rub" >{{ rubriqu.libelle }}</h7></label>
                                                        </td>
                                                    </tr>
                                                {% endfor %}
                                                </tbody>
                                            </table>
                                        </ul>
                                    </div>
                                </div>

                                <div  class="form-group testpres" style="margin-bottom: 20px!important;">
                                </div> </div>

                            <div class="col-md-3">



                                <div  class="form-group" >
                                    <div class="dropdown">


                                        <button type="button" id="dropdownMenu1"  class="btn dropdown-toggle multiselect" data-toggle="dropdown" style="width: 400px;"  aria-haspopup="true" aria-expanded="false">
                                            <span id="select_ville_principe_2">   Ville de parution  </span><span id="ville_principe_view_2"></span>
                                        </button>


                                        <ul class="dropdown-menu mySelect ul_rub ville2" id="select-rubrique" >

                                            <input type="text" id="myInput_ville_first_2" class="form-control" placeholder="search"  style="border-radius: -2px!important;">
                                            <span class="glyphicon glyphicon-search form-control-feedback" style="line-height: 44px;"></span>

                                            <table id="myTable_ville_2">
                                                <tbody >

                                                <tr>
                                                    <td>
                                                        <label >
                                                            <input id="villes2" class=" arms2 select_rub  chnage_color  ville_first_2" type="checkbox"  name="villes2" value="91010|1"><h7 class="label_rub" >Casablanca</h7>
                                                        </label>
                                                    </td>
                                                </tr>

                                                <tr>
                                                    <td>
                                                        <label>
                                                            <input id="villes2" class=" arms2 select_rub  chnage_color ville_first_2" type="checkbox" name="villes2" value="101010|2"><h7 class="label_rub" >Rabat</h7>
                                                        </label>
                                                    </td>
                                                </tr>
                                                <tr>
                                                    <td>
                                                        <label>
                                                            <input id="villes2" class=" arms2 select_rub  chnage_color ville_first_2" type="checkbox" name="villes2" value="141010|3"><h7 class="label_rub" >Fès</h7>
                                                        </label>
                                                    </td>
                                                </tr>
                                                <tr>
                                                    <td>
                                                        <label>
                                                            <input id="villes2" class=" arms2 select_rub  chnage_color ville_first_2" type="checkbox" name="villes2" value="41110|3"><h7 class="label_rub" >Agadir</h7>
                                                        </label>
                                                    </td>
                                                </tr>
                                                <tr>
                                                    <td>
                                                        <label>
                                                            <input id="villes2" class=" arms2 select_rub  chnage_color ville_first_2" type="checkbox" name="villes2" value="163010|2"><h7 class="label_rub" >Tanger</h7>
                                                        </label>
                                                    </td>
                                                </tr>
                                                <tr>
                                                    <td>
                                                        <label>
                                                            <input id="villes2" class=" arms2 select_rub  chnage_color ville_first_2" type="checkbox" name="villes2" value="71010|2"><h7 class="label_rub" >Marrakech</h7>
                                                        </label>
                                                    </td>
                                                </tr>

                                                {% for ville in villes %}
                                                    <tr>
                                                        <td>
                                                            <label>
                                                                <input id="villes2" class=" arms2 select_rub  chnage_color ville_first_2" type="checkbox" name="villes2"  value="{{ ville.codeville }}|{{ ville.cat }}"/><h7 class="label_rub" >{{ ville.libelle }}</h7>
                                                            </label>
                                                        </td>
                                                    </tr>
                                                {% endfor %}
                                                </tbody>
                                            </table>



                                        </ul>


                                    </div>
                                </div>

                            </div>
                            <div class="col-md-3">


                                <button type="button" id="dropdownMenu1"  class="btn dropdown-toggle multiselect mySelect" data-toggle="collapse" data-target="#demo-2-4">
                                    &nbsp;   <span class="glyphicon glyphicon-triangle-bottom visibilite_icon"></span>
                                    <span id="select_ville_principe_supp_2">parution supplémentaire &nbsp; </span><span id="ville_principe_view_supp_2"></span>
                                </button>
                                <div id="demo-2-4" class="collapse bouton-2" style="overflow-y:scroll;position: relative!important;">


                                    <input type="text" id="myInput_ville_panier_2" class="form-control" placeholder="search" >
                                    <span class="glyphicon glyphicon-search form-control-feedback search_ville" ></span>

                                    <div class="form-inline" id="dropdownMenu1" >
                                        <table id="myTable_ville_panier_2">
                                            <tbody >

                                            <tr>
                                                <td>
                                                    <label data-toggle="collapse" data-target="#demo-2-4" aria-expanded="true" aria-controls="collapseOne" class="checkbox-inline" id="ville_casa">
                                                        <input id="select" class="my-activitys armss2 select_rub first" type="checkbox"  name="villes_panier2[]" value="91010|Casablanca|1">&nbsp; &nbsp;Casablanca
                                                    </label><br>
                                                </td>
                                            </tr>

                                            <tr>
                                                <td>
                                                    <label data-toggle="collapse" data-target="#demo-2-4" aria-expanded="true" aria-controls="collapseOne" class="checkbox-inline">
                                                        <input id="select" class="my-activitys armss2 select_rub first" type="checkbox" name="villes_panier2[]" value="101010|Rabat|2">&nbsp; &nbsp;Rabat
                                                    </label><br>
                                                </td>
                                            </tr>
                                            <tr>
                                                <td>
                                                    <label data-toggle="collapse" data-target="#demo-2-4" aria-expanded="true" aria-controls="collapseOne" class="checkbox-inline">
                                                        <input id="select" class="my-activitys armss2 select_rub first" type="checkbox" name="villes_panier2[]" value="141010|Fès|3">&nbsp; &nbsp;Fès
                                                    </label><br>
                                                </td>
                                            </tr>
                                            <tr>
                                                <td>
                                                    <label data-toggle="collapse" data-target="#demo-2-4" aria-expanded="true" aria-controls="collapseOne" class="checkbox-inline">
                                                        <input id="select" class="my-activitys armss2 select_rub first" type="checkbox" name="villes_panier2[]" value="41110|Agadir|3">&nbsp; &nbsp;Agadir
                                                    </label><br>
                                                </td>
                                            </tr>
                                            <tr>
                                                <td>
                                                    <label data-toggle="collapse" data-target="#demo-2-4" aria-expanded="true" aria-controls="collapseOne" class="checkbox-inline">
                                                        <input id="select" class="my-activitys armss2 select_rub first" type="checkbox" name="villes_panier2[]" value="163010|Tanger|2">&nbsp; &nbsp;Tanger
                                                    </label><br>
                                                </td>
                                            </tr>
                                            <tr>
                                                <td>
                                                    <label data-toggle="collapse" data-target="#demo-2-4" aria-expanded="true" aria-controls="collapseOne" class="checkbox-inline">
                                                        <input id="select" class="my-activitys armss2 select_rub first" type="checkbox" name="villes_panier2[]" value="71010|Marrakech|2">&nbsp; &nbsp;Marrakech
                                                    </label><br>
                                                </td>
                                            </tr>

                                            {% for ville in villes %}
                                                <tr>
                                                    <td>
                                                        <label data-toggle="collapse" data-target="#demo-2-4" aria-expanded="true" aria-controls="collapseOne" class="checkbox-inline">
                                                            <input id="select" class="my-activitys armss2 select_rub first" type="checkbox" name="villes_panier2[]"  value="{{ ville.codeville }}|{{ ville.libelle }}"/>&nbsp; &nbsp;{{ ville.libelle }}
                                                        </label><br>
                                                    </td>
                                                </tr>
                                            {% endfor %}
                                            </tbody>
                                        </table>

                                    </div>
                                </div>

                            </div>




                        </div>




                    </div>

                    <div id="select_rub_prest3" >


                        <div class="row">
                            <div class="col-md-3">    <div  class="form-group" >
                                    <div class="dropdown">
                                        <button class="btn dropdown-toggle multiselect" type="button" style="width: 400px;" id="rubrique1" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                            <span id="select_rub3">Sélectionner rubrique</span><span id="rubrique3_view"></span>

                                            <span class="caret"></span></button>
                                        <ul class=" dropdown-menu r3 mySelect ul_rub " id="select-rubrique"  >
                                            <input type="text" id="myInput3" class="form-control" placeholder="search" style="border-radius: -2px!important;">
                                            <span class="glyphicon glyphicon-search form-control-feedback" style="line-height: 44px;"></span>
                                            <table id="myTable3">
                                                <tbody >

                                                {% for rubriqu in rubriques %}
                                                    <tr>
                                                        <td>
                                                            <label><input class="select_rub checkbox3_rub chnage_color r3 first" id="check3" name="check3" type="checkbox"  value="{{ rubriqu.id }}|{{ rubriqu.type  }}" ><h7 class="label_rub" >{{ rubriqu.libelle }}</h7></label>
                                                        </td>
                                                    </tr>
                                                {% endfor %}
                                                </tbody>
                                            </table>
                                        </ul>
                                    </div>
                                </div>

                                <div  class="form-group testpres" style="margin-bottom: 20px!important;">
                                </div>
                            </div>
                            <div class="col-md-3">
                                <div  class="form-group" >
                                    <div class="dropdown">


                                        <button type="button" id="dropdownMenu1"  class="btn dropdown-toggle multiselect" data-toggle="dropdown" style="width: 400px;"  aria-haspopup="true" aria-expanded="false">
                                            <span id="select_ville_principe_3">   Ville de parution  </span><span id="ville_principe_view_3"></span>
                                        </button>


                                        <ul class="dropdown-menu mySelect ul_rub ville3" id="select-rubrique" >

                                            <input type="text" id="myInput_ville_first_3" class="form-control" placeholder="search"  style="border-radius: -2px!important;">
                                            <span class="glyphicon glyphicon-search form-control-feedback" style="line-height: 44px;"></span>

                                            <table id="myTable_ville_3">
                                                <tbody >

                                                <tr>
                                                    <td>
                                                        <label >
                                                            <input id="villes3" class=" arms3 select_rub  chnage_color  ville_first_3" type="checkbox"  name="villes3" value="91010|1"><h7 class="label_rub" >Casablanca</h7>
                                                        </label>
                                                    </td>
                                                </tr>

                                                <tr>
                                                    <td>
                                                        <label>
                                                            <input id="villes3" class=" arms3 select_rub  chnage_color ville_first_3" type="checkbox" name="villes3" value="101010|2"><h7 class="label_rub" >Rabat</h7>
                                                        </label>
                                                    </td>
                                                </tr>
                                                <tr>
                                                    <td>
                                                        <label>
                                                            <input id="villes3" class=" arms3 select_rub  chnage_color ville_first_3" type="checkbox" name="villes3" value="141010|3"><h7 class="label_rub" >Fès</h7>
                                                        </label>
                                                    </td>
                                                </tr>
                                                <tr>
                                                    <td>
                                                        <label>
                                                            <input id="villes3" class=" arms3 select_rub  chnage_color ville_first_3" type="checkbox" name="villes3" value="41110|3"><h7 class="label_rub" >Agadir</h7>
                                                        </label>
                                                    </td>
                                                </tr>
                                                <tr>
                                                    <td>
                                                        <label>
                                                            <input id="villes3" class=" arms3 select_rub  chnage_color ville_first_3" type="checkbox" name="villes3" value="163010|2"><h7 class="label_rub" >Tanger</h7>
                                                        </label>
                                                    </td>
                                                </tr>
                                                <tr>
                                                    <td>
                                                        <label>
                                                            <input id="villes3" class=" arms3 select_rub  chnage_color ville_first_3" type="checkbox" name="villes3" value="71010|2"><h7 class="label_rub" >Marrakech</h7>
                                                        </label>
                                                    </td>
                                                </tr>

                                                {% for ville in villes %}
                                                    <tr>
                                                        <td>
                                                            <label>
                                                                <input id="villes3" class=" arms3  select_rub  chnage_color ville_first_3" type="checkbox" name="villes3"  value="{{ ville.codeville }}|{{ ville.cat }}"/><h7 class="label_rub" >{{ ville.libelle }}</h7>
                                                            </label>
                                                        </td>
                                                    </tr>
                                                {% endfor %}
                                                </tbody>
                                            </table>



                                        </ul>


                                    </div>
                                </div>
                            </div>
                            <div class="col-md-3">


                                <button type="button" id="dropdownMenu1"  class="btn dropdown-toggle multiselect mySelect" data-toggle="collapse" data-target="#demo-2-5">
                                    &nbsp;   <span class="glyphicon glyphicon-triangle-bottom visibilite_icon"></span>
                                    <span id="select_ville_principe_supp_3">parution supplémentaire &nbsp; </span><span id="ville_principe_view_supp_3"></span>
                                </button>
                                <div id="demo-2-5" class="collapse bouton-2" style="overflow-y:scroll;position: relative!important;">


                                    <input type="text" id="myInput_ville_panier_3" class="form-control" placeholder="search" >
                                    <span class="glyphicon glyphicon-search form-control-feedback search_ville" ></span>

                                    <div class="form-inline" id="dropdownMenu1" >
                                        <table id="myTable_ville_panier_3">
                                            <tbody >

                                            <tr>
                                                <td>
                                                    <label data-toggle="collapse" data-target="#demo-2-5" aria-expanded="true" aria-controls="collapseOne" class="checkbox-inline" id="ville_casa">
                                                        <input id="select" class="my-activitys armss3 select_rub first" type="checkbox"  name="villes_panier3[]" value="91010|Casablanca|1">&nbsp; &nbsp;Casablanca
                                                    </label><br>
                                                </td>
                                            </tr>

                                            <tr>
                                                <td>
                                                    <label data-toggle="collapse" data-target="#demo-2-5" aria-expanded="true" aria-controls="collapseOne" class="checkbox-inline">
                                                        <input id="select" class="my-activitys armss3 select_rub first" type="checkbox" name="villes_panier3[]" value="101010|Rabat|2">&nbsp; &nbsp;Rabat
                                                    </label><br>
                                                </td>
                                            </tr>
                                            <tr>
                                                <td>
                                                    <label data-toggle="collapse" data-target="#demo-2-5" aria-expanded="true" aria-controls="collapseOne" class="checkbox-inline">
                                                        <input id="select" class="my-activitys armss3 select_rub first" type="checkbox" name="villes_panier3[]" value="141010|Fès|3">&nbsp; &nbsp;Fès
                                                    </label><br>
                                                </td>
                                            </tr>
                                            <tr>
                                                <td>
                                                    <label data-toggle="collapse" data-target="#demo-2-5" aria-expanded="true" aria-controls="collapseOne" class="checkbox-inline">
                                                        <input id="select" class="my-activitys armss3 select_rub first" type="checkbox" name="villes_panier3[]" value="41110|Agadir|3">&nbsp; &nbsp;Agadir
                                                    </label><br>
                                                </td>
                                            </tr>
                                            <tr>
                                                <td>
                                                    <label data-toggle="collapse" data-target="#demo-2-5" aria-expanded="true" aria-controls="collapseOne" class="checkbox-inline">
                                                        <input id="select" class="my-activitys armss3 select_rub first" type="checkbox" name="villes_panier3[]" value="163010|Tanger|2">&nbsp; &nbsp;Tanger
                                                    </label><br>
                                                </td>
                                            </tr>
                                            <tr>
                                                <td>
                                                    <label data-toggle="collapse" data-target="#demo-2-5" aria-expanded="true" aria-controls="collapseOne" class="checkbox-inline">
                                                        <input id="select" class="my-activitys armss3 select_rub first" type="checkbox" name="villes_panier3[]" value="71010|Marrakech|2">&nbsp; &nbsp;Marrakech
                                                    </label><br>
                                                </td>
                                            </tr>

                                            {% for ville in villes %}
                                                <tr>
                                                    <td>
                                                        <label data-toggle="collapse" data-target="#demo-2-5" aria-expanded="true" aria-controls="collapseOne" class="checkbox-inline">
                                                            <input id="select" class="my-activitys armss3 select_rub first" type="checkbox" name="villes_panier3[]"  value="{{ ville.codeville }}|{{ ville.libelle }}"/>&nbsp; &nbsp;{{ ville.libelle }}
                                                        </label><br>
                                                    </td>
                                                </tr>
                                            {% endfor %}
                                            </tbody>
                                        </table>

                                    </div>
                                </div>

                            </div>

                        </div>






                    </div>

                    <div id="select_rub_prest4" >

                        <div class="row">

                            <div class="col-md-3">

                                <div  class="form-group" >
                                    <div class="dropdown">
                                        <button class="btn dropdown-toggle multiselect" type="button" style="width: 400px;" id="rubrique1" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                            <span id="select_rub4">Sélectionner rubrique</span><span id="rubrique4_view"></span>

                                            <span class="caret"></span></button>
                                        <ul class=" dropdown-menu r4 mySelect ul_rub " id="select-rubrique"  >
                                            <input type="text" id="myInput4" class="form-control" placeholder="search" style="border-radius: -2px!important;">
                                            <span class="glyphicon glyphicon-search form-control-feedback" style="line-height: 44px;"></span>
                                            <table id="myTable4">
                                                <tbody >
                                                {% for rubriqu in rubriques %}
                                                    <tr>
                                                        <td>
                                                            <label><input class="select_rub checkbox4_rub chnage_color r4 first" id="check4" name="check4" type="checkbox"  value="{{ rubriqu.id }}|{{ rubriqu.type  }}" ><h7 class="label_rub" >{{ rubriqu.libelle }}</h7></label>
                                                        </td>
                                                    </tr>
                                                {% endfor %}
                                                </tbody>
                                            </table>
                                        </ul>
                                    </div>
                                </div>

                                <div  class="form-group testpres" style="margin-bottom: 20px!important;">
                                </div>

                            </div>




                            <div class="col-md-3">
                                <div  class="form-group" >
                                    <div class="dropdown">


                                        <button type="button" id="dropdownMenu1"  class="btn dropdown-toggle multiselect" data-toggle="dropdown" style="width: 400px;"  aria-haspopup="true" aria-expanded="false">
                                            <span id="select_ville_principe_4">   Ville de parution  </span><span id="ville_principe_view_4"></span>
                                        </button>


                                        <ul class="dropdown-menu mySelect ul_rub ville4" id="select-rubrique" >

                                            <input type="text" id="myInput_ville_first_4" class="form-control" placeholder="search"  style="border-radius: -2px!important;">
                                            <span class="glyphicon glyphicon-search form-control-feedback" style="line-height: 44px;"></span>

                                            <table id="myTable_ville_4">
                                                <tbody >

                                                <tr>
                                                    <td>
                                                        <label >
                                                            <input id="villes4" class=" arms4 select_rub  chnage_color  ville_first_4" type="checkbox"  name="villes4" value="91010|1"><h7 class="label_rub" >Casablanca</h7>
                                                        </label>
                                                    </td>
                                                </tr>

                                                <tr>
                                                    <td>
                                                        <label>
                                                            <input id="villes4" class=" arms4 select_rub  chnage_color ville_first_4" type="checkbox" name="villes4" value="101010|2"><h7 class="label_rub" >Rabat</h7>
                                                        </label>
                                                    </td>
                                                </tr>
                                                <tr>
                                                    <td>
                                                        <label>
                                                            <input id="villes4" class=" arms4 select_rub  chnage_color ville_first_4" type="checkbox" name="villes4" value="141010|3"><h7 class="label_rub" >Fès</h7>
                                                        </label>
                                                    </td>
                                                </tr>
                                                <tr>
                                                    <td>
                                                        <label>
                                                            <input id="villes4" class=" arms4 select_rub  chnage_color ville_first_4" type="checkbox" name="villes4" value="41110|3"><h7 class="label_rub" >Agadir</h7>
                                                        </label>
                                                    </td>
                                                </tr>
                                                <tr>
                                                    <td>
                                                        <label>
                                                            <input id="villes4" class=" arms4 select_rub  chnage_color ville_first_4" type="checkbox" name="villes4" value="163010|2"><h7 class="label_rub" >Tanger</h7>
                                                        </label>
                                                    </td>
                                                </tr>
                                                <tr>
                                                    <td>
                                                        <label>
                                                            <input id="villes4" class=" arms4 select_rub  chnage_color ville_first_4" type="checkbox" name="villes4" value="71010|2"><h7 class="label_rub" >Marrakech</h7>
                                                        </label>
                                                    </td>
                                                </tr>

                                                {% for ville in villes %}
                                                    <tr>
                                                        <td>
                                                            <label>
                                                                <input id="villes4" class=" arms4  select_rub  chnage_color ville_first_4" type="checkbox" name="villes4"  value="{{ ville.codeville }}|{{ ville.cat }}"/><h7 class="label_rub" >{{ ville.libelle }}</h7>
                                                            </label>
                                                        </td>
                                                    </tr>
                                                {% endfor %}
                                                </tbody>
                                            </table>



                                        </ul>


                                    </div>
                                </div></div>


                            <div class="col-md-3">


                                <button type="button" id="dropdownMenu1"  class="btn dropdown-toggle multiselect mySelect" data-toggle="collapse" data-target="#demo-2-1">
                                    &nbsp;   <span class="glyphicon glyphicon-triangle-bottom visibilite_icon"></span>
                                    <span id="select_ville_principe_supp_4">parution supplémentaire &nbsp; </span><span id="ville_principe_view_supp_4"></span>
                                </button>
                                <div id="demo-2-1" class="collapse bouton-2" style="overflow-y:scroll;position: relative!important;">


                                    <input type="text" id="myInput_ville_panier_4" class="form-control" placeholder="search" >
                                    <span class="glyphicon glyphicon-search form-control-feedback search_ville" ></span>

                                    <div class="form-inline" id="dropdownMenu1" >
                                        <table id="myTable_ville_panier_4">
                                            <tbody >

                                            <tr>
                                                <td>
                                                    <label data-toggle="collapse" data-target="#demo-9" aria-expanded="true" aria-controls="collapseOne" class="checkbox-inline" id="ville_casa">
                                                        <input id="select" class="my-activitys armss4 select_rub first" type="checkbox"  name="villes_panier4[]" value="91010|Casablanca|1">&nbsp; &nbsp;Casablanca
                                                    </label><br>
                                                </td>
                                            </tr>

                                            <tr>
                                                <td>
                                                    <label data-toggle="collapse" data-target="#demo-9" aria-expanded="true" aria-controls="collapseOne" class="checkbox-inline">
                                                        <input id="select" class="my-activitys armss4 select_rub first" type="checkbox" name="villes_panier4[]" value="101010|Rabat|2">&nbsp; &nbsp;Rabat
                                                    </label><br>
                                                </td>
                                            </tr>
                                            <tr>
                                                <td>
                                                    <label data-toggle="collapse" data-target="#demo-9" aria-expanded="true" aria-controls="collapseOne" class="checkbox-inline">
                                                        <input id="select" class="my-activitys armss4 select_rub first" type="checkbox" name="villes_panier4[]" value="141010|Fès|3">&nbsp; &nbsp;Fès
                                                    </label><br>
                                                </td>
                                            </tr>
                                            <tr>
                                                <td>
                                                    <label data-toggle="collapse" data-target="#demo-9" aria-expanded="true" aria-controls="collapseOne" class="checkbox-inline">
                                                        <input id="select" class="my-activitys armss4 select_rub first" type="checkbox" name="villes_panier4[]" value="41110|Agadir|3">&nbsp; &nbsp;Agadir
                                                    </label><br>
                                                </td>
                                            </tr>
                                            <tr>
                                                <td>
                                                    <label data-toggle="collapse" data-target="#demo-9" aria-expanded="true" aria-controls="collapseOne" class="checkbox-inline">
                                                        <input id="select" class="my-activitys armss4 select_rub first" type="checkbox" name="villes_panier4[]" value="163010|Tanger|2">&nbsp; &nbsp;Tanger
                                                    </label><br>
                                                </td>
                                            </tr>
                                            <tr>
                                                <td>
                                                    <label data-toggle="collapse" data-target="#demo-9" aria-expanded="true" aria-controls="collapseOne" class="checkbox-inline">
                                                        <input id="select" class="my-activitys armss4 select_rub first" type="checkbox" name="villes_panier4[]" value="71010|Marrakech|2">&nbsp; &nbsp;Marrakech
                                                    </label><br>
                                                </td>
                                            </tr>

                                            {% for ville in villes %}
                                                <tr>
                                                    <td>
                                                        <label data-toggle="collapse" data-target="#demo-9" aria-expanded="true" aria-controls="collapseOne" class="checkbox-inline">
                                                            <input id="select" class="my-activitys armss4 select_rub first" type="checkbox" name="villes_panier4[]"  value="{{ ville.codeville }}|{{ ville.libelle }}"/>&nbsp; &nbsp;{{ ville.libelle }}
                                                        </label><br>
                                                    </td>
                                                </tr>
                                            {% endfor %}
                                            </tbody>
                                        </table>

                                    </div>
                                </div>


                            </div>

                        </div>






                    </div>
                    <div id="select_rub_prest5" >
                        <div  class="form-group" >
                            <div class="dropdown">
                                <button class="btn dropdown-toggle multiselect" type="button" style="width: 400px;" id="rubrique1" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                    <span id="select_rub5">Sélectionner rubrique</span><span id="rubrique5_view"></span>

                                    <span class="caret"></span></button>
                                <ul class=" dropdown-menu r5 mySelect ul_rub " id="select-rubrique"  >
                                    <input type="text" id="myInput5" class="form-control" placeholder="search" style="border-radius: -2px!important;">
                                    <span class="glyphicon glyphicon-search form-control-feedback" style="line-height: 44px;"></span>
                                    <table id="myTable5">
                                        <tbody >
                                        {% for rubriqu in rubriques %}
                                            <tr>
                                                <td>
                                                    <label><input class="select_rub checkbox5_rub chnage_color r5 first" id="check5" name="check5" type="checkbox"  value="{{ rubriqu.id }}|{{ rubriqu.type  }}" ><h7 class="label_rub" >{{ rubriqu.libelle }}</h7></label>
                                                </td>
                                            </tr>
                                        {% endfor %}
                                        </tbody>
                                    </table>
                                </ul>
                            </div>
                        </div>

                        <div  class="form-group testpres" style="margin-bottom: 20px!important;">
                        </div>
                    </div>
                    <div id="select_rub_prest6" >
                        <div  class="form-group" >
                            <div class="dropdown">
                                <button class="btn dropdown-toggle multiselect" type="button" style="width: 400px;" id="rubrique1" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                    <span id="select_rub6">Sélectionner rubrique</span><span id="rubrique6_view"></span>

                                    <span class="caret"></span></button>
                                <ul class=" dropdown-menu r6 mySelect ul_rub " id="select-rubrique"  >
                                    <input type="text" id="myInput6" class="form-control" placeholder="search" style="border-radius: -2px!important;">
                                    <span class="glyphicon glyphicon-search form-control-feedback" style="line-height: 44px;"></span>
                                    <table id="myTable6">
                                        <tbody >
                                        {% for rubriqu in rubriques %}
                                            <tr>
                                                <td>
                                                    <label><input class="select_rub checkbox6_rub chnage_color r6 first" id="check6" name="check6" type="checkbox" value="{{ rubriqu.id }}|{{ rubriqu.type  }}" ><h7 class="label_rub" >{{ rubriqu.libelle }}</h7></label>
                                                </td>
                                            </tr>
                                        {% endfor %}
                                        </tbody>
                                    </table>
                                </ul>
                            </div>
                        </div>

                        <div  class="form-group testpres" style="margin-bottom: 20px!important;">
                        </div>
                    </div>


        </form>

                    {# ------------------- selectionner marque-----------------#}
                    <form id="jsForm" class=" form-inline" action="" method="GET">

                        <div class="form-group marques" style="display:none ;">
                            <div class="dropdown">
                                <button class="btn dropdown-toggle multiselect" type="button" style="width: 400px;" id="marques" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Enter vos marques <span class="caret"></span></button>
                                <ul class="dropdown-menu ul_rub" aria-labelledby="marques" style="overflow-y:scroll; width: 400px;height: 109px">
                                    <li ><input class="input_marque positionnement m " type="text" id="marq"  name="marq"   {% if marque['marq1'] %} value="{{  marque['marq1']}}" {% endif %} placeholder="Marque1"   style="display: none"/>&nbsp; </li>
                                    <li ><input class="input_marque positionnement m1" type="text" id="marq1"  name="marq1" {% if marque['marq2'] %} value="{{  marque['marq2']}}" {% endif %} placeholder="Marque2" style="display: none"/>&nbsp; </li>
                                    <li ><input class="input_marque positionnement m2" type="text" id="marq2"  name="marq2" {% if marque['marq3'] %} value="{{  marque['marq3']}}" {% endif %}placeholder="Marque3" style="display: none"/>&nbsp; </li>
                                    <li ><input class="input_marque positionnement m3" type="text" id="marq3"  name="marq3" {% if marque['marq4'] %} value="{{  marque['marq4']}}" {% endif %}placeholder="Marque4" style="display: none"/>&nbsp; </li>
                                    <li ><input class="input_marque positionnement m4" type="text" id="marq4"  name="marq4" {% if marque['marq5'] %} value="{{  marque['marq5']}}" {% endif %}placeholder="Marque5" style="display: none"/>&nbsp; </li>
                                    <li ><input class="input_marque positionnement m5" type="text" id="marq5"  name="marq5" {% if marque['marq6'] %} value="{{  marque['marq6']}}" {% endif %}placeholder="Marque6" style="display: none"/>&nbsp; </li>
                                    <li ><input class="input_marque positionnement m6" type="text" id="marq6"  name="marq6" {% if marque['marq7'] %} value="{{  marque['marq7']}}" {% endif %}placeholder="Marque7" style="display: none"/>&nbsp; </li>
                                    <li ><input class="input_marque positionnement m7" type="text" id="marq7"  name="marq7" {% if marque['marq8'] %} value="{{  marque['marq8']}}" {% endif %}placeholder="Marque8" style="display: none"/>&nbsp; </li>
                                    <li ><input class="input_marque positionnement m8" type="text" id="marq8"  name="marq8" {% if marque['marq9'] %} value="{{  marque['marq9']}}" {% endif %}placeholder="Marque9" style="display: none"/>&nbsp; </li>
                                    <li ><input class="input_marque positionnement m9" type="text" id="marq9" name="marq9"  {% if marque['marq10'] %}value="{{  marque['marq10']}}" {% endif %}placeholder="Marque10" style="display: none"/>&nbsp; </li>


                                </ul>
                            </div>
                        </div>

                        <div class="form-group marques" style="display: none">
                            <div class="dropdown">
                                <button class="btn dropdown-toggle multiselect" type="button" style="width: 400px;" id="positionnement" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Précisez votre positionnement liée à chaque marque<span class="caret"></span></button>
                                <ul class="dropdown-menu ul_rub ma" aria-labelledby="positionnement" style="overflow-y:scroll; width: 400px;height: 109px">
                                    <div id="g" style="display: none">
                                        <input class="input_marque"   type="text" id="marque"  {% if marque['marq1'] %} value="{{  marque['marq1']}}" {% endif %}readonly placeholder="Marque1"/><br>
                                        <label ><input class="positionnement p1" type="checkbox" name="positionnement[]" {% if 'Distributeurs' in marque['posi1'] %} checked {% endif %} value="Distributeurs"/>&nbsp;Distributeurs </label>
                                        <label><input class="positionnement p1" type="checkbox" name="positionnement[]"  {% if 'Importateurs' in marque['posi1'] %} checked {% endif %} value="Importateurs"/>&nbsp;Importateurs </label>
                                        <label><input class="positionnement p1" type="checkbox" name="positionnement[]"  {% if 'Représentants agrées' in marque['posi1'] %} checked {% endif %} value="Représentants agrées"/>&nbsp;Représentants agrées </label>
                                    </div>
                                    <div id="g1" style="display: none">
                                        <input class="input_marque"  type="text" id="marque1"  {% if marque['marq2'] %} value="{{  marque['marq2']}}" {% endif %}readonly placeholder="Marque2"/><br>
                                        <label><input class="positionnement p2" type="checkbox" name="positionnement1[]" {% if 'Distributeurs' in marque['posi2']  %}checked  {% endif %}value="Distributeurs"/>&nbsp;Distributeurs </label>
                                        <label><input class="positionnement p2" type="checkbox" name="positionnement1[]" {% if 'Importateurs' in marque['posi2']  %}checked  {% endif %}value="Importateurs"/>&nbsp;Importateurs </label>
                                        <label><input class="positionnement p2" type="checkbox" name="positionnement1[]" {% if 'Représentants agrées' in marque['posi2']  %}checked  {% endif %}value="Représentants agrées"/>&nbsp;Représentants agrées </label>
                                    </div>
                                    <div id="g2" style="display: none">
                                        <input class="input_marque"  type="text" id="marque2"  {% if marque['marq3'] %} value="{{  marque['marq3']}}" {% endif %} readonly placeholder="Marque3"/><br>
                                        <label><input class="positionnement p3" type="checkbox" name="positionnement2[]" {% if 'Distributeurs' in marque['posi3']  %}checked  {% endif %}value="Distributeurs"/>&nbsp;Distributeurs </label>
                                        <label><input class="positionnement p3" type="checkbox" name="positionnement2[]" {% if 'Importateurs' in marque['posi3'] %}checked  {% endif %}value="Importateurs"/>&nbsp;Importateurs </label>
                                        <label><input class="positionnement p3" type="checkbox" name="positionnement2[]" {% if 'Représentants agrées' in marque['posi3']  %}checked  {% endif %}value="Représentants agrées"/>&nbsp;Représentants agrées </label>
                                    </div>
                                    <div id="g3" style="display: none">
                                        <input class="input_marque"  type="text" id="marque3"  {% if marque['marq4'] %} value="{{  marque['marq4']}}" {% endif %} readonly placeholder="Marque4"/><br>
                                        <label><input class="positionnement p4" type="checkbox" name="positionnement3[]" {% if 'Distributeurs' in marque['posi4']  %}checked  {% endif %}value="Distributeurs"/>&nbsp;Distributeurs </label>
                                        <label><input class="positionnement p4" type="checkbox" name="positionnement3[]" {% if 'Importateurs' in marque['posi4']  %}checked  {% endif %}value="Importateurs"/>&nbsp;Importateurs </label>
                                        <label><input class="positionnement p4" type="checkbox" name="positionnement3[]" {% if 'Représentants agrées' in marque['posi4']  %}checked  {% endif %}value="Représentants agrées"/>&nbsp;Représentants agrées </label>
                                    </div>
                                    <div id="g4" style="display: none">
                                        <input class="input_marque"  type="text" id="marque4"  {% if marque['marq5'] %} value="{{  marque['marq5']}}" {% endif %} readonly placeholder="Marque5"/><br>
                                        <label><input class="positionnement p5" type="checkbox" name="positionnement4[]" {% if 'Distributeurs' in marque['posi5']  %}checked  {% endif %}value="Distributeurs"/>&nbsp;Distributeurs </label>
                                        <label><input class="positionnement p5" type="checkbox" name="positionnement4[]" {% if 'Importateurs' in marque['posi5']  %}checked  {% endif %}value="Importateurs"/>&nbsp;Importateurs </label>
                                        <label><input class="positionnement p5" type="checkbox" name="positionnement4[]" {% if 'Représentants agrées' in marque['posi5']  %}checked  {% endif %}value="Représentants agrées"/>&nbsp;Représentants agrées </label>
                                    </div>
                                    <div id="g5" style="display: none">
                                        <input class="input_marque"  type="text" id="marque5"  {% if marque['marq6'] %} value="{{  marque['marq6']}}" {% endif %} readonly placeholder="Marque6"/><br>
                                        <label><input class="positionnement p6" type="checkbox" name="positionnement5[]" {% if 'Distributeurs' in marque['posi6']  %}checked  {% endif %}value="Distributeurs"/>&nbsp;Distributeurs </label>
                                        <label><input class="positionnement p6" type="checkbox" name="positionnement5[]" {% if 'Importateurs' in marque['posi6']  %}checked  {% endif %}value="Importateurs"/>&nbsp;Importateurs </label>
                                        <label><input class="positionnement p6" type="checkbox" name="positionnement5[]" {% if 'Représentants agrées' in marque['posi6']  %}checked  {% endif %}value="Représentants agrées"/>&nbsp;Représentants agrées </label>
                                    </div>
                                    <div id="g6" style="display: none">
                                        <input class="input_marque"  type="text" id="marque6"  {% if marque['marq7'] %} value="{{  marque['marq7']}}" {% endif %} readonly placeholder="Marque7"/><br>
                                        <label><input class="positionnement p7" type="checkbox" name="positionnement6[]" {% if 'Distributeurs' in marque['posi7']  %}checked  {% endif %}value="Distributeurs"/>&nbsp;Distributeurs </label>
                                        <label><input class="positionnement p7" type="checkbox" name="positionnement6[]" {% if 'Importateurs' in marque['posi7']  %}checked  {% endif %}value="Importateurs"/>&nbsp;Importateurs </label>
                                        <label><input class="positionnement p7" type="checkbox" name="positionnement6[]" {% if 'Représentants agrées' in marque['posi7']  %}checked  {% endif %}value="Représentants agrées"/>&nbsp;Représentants agrées </label>
                                    </div>
                                    <div id="g7" style="display: none">
                                        <input class="input_marque"  type="text" id="marque7"  {% if marque['marq8'] %} value="{{  marque['marq8']}}" {% endif %} readonly placeholder="Marque8"/><br>
                                        <label><input class="positionnement p8" type="checkbox" name="positionnement7[]" {% if 'Distributeurs' in marque['posi8']  %}checked  {% endif %}value="Distributeurs"/>&nbsp;Distributeurs </label>
                                        <label><input class="positionnement p8" type="checkbox" name="positionnement7[]" {% if 'Importateurs' in marque['posi8']  %}checked  {% endif %}value="Importateurs"/>&nbsp;Importateurs </label>
                                        <label><input class="positionnement p8" type="checkbox" name="positionnement7[]" {% if 'Représentants agrées' in marque['posi8']  %}checked  {% endif %}value="Représentants agrées"/>&nbsp;Représentants agrées </label>
                                    </div>
                                    <div id="g8" style="display: none">
                                        <input class="input_marque"  type="text" id="marque8"  {% if marque['marq9'] %} value="{{  marque['marq9']}}" {% endif %} readonly placeholder="Marque9"/><br>
                                        <label><input class="positionnement p9" type="checkbox" name="positionnement8[]" {% if 'Distributeurs' in marque['posi9'] %}checked  {% endif %}value="Distributeurs"/>&nbsp;Distributeurs </label>
                                        <label><input class="positionnement p9" type="checkbox" name="positionnement8[]" {% if 'Importateurs' in marque['posi9']  %}checked  {% endif %}value="Importateurs"/>&nbsp;Importateurs </label>
                                        <label><input class="positionnement p9" type="checkbox" name="positionnement8[]" {% if 'Représentants agrées' in marque['posi9']  %}checked  {% endif %}value="Représentants agrées"/>&nbsp;Représentants agrées </label>
                                    </div>
                                    <div id="g9" style="display: none">
                                        <input class="input_marque"  type="text" id="marque9"  {% if marque['marq10'] %} value="{{  marque['marq10']}}" {% endif %}readonly placeholder="Marque10"/><br>
                                        <label><input class="positionnement p10" type="checkbox" name="positionnement9[]" {% if 'Distributeurs' in marque['posi10']  %}checked  {% endif %}value="Distributeurs"/>&nbsp;Distributeurs </label>
                                        <label><input class="positionnement p10" type="checkbox" name="positionnement9[]" {% if 'Importateurs' in marque['posi10']  %}checked  {% endif %}value="Importateurs"/>&nbsp;Importateurs </label>
                                        <label><input class="positionnement p10" type="checkbox" name="positionnement9[]" {% if 'Représentants agrées' in marque['posi1']  %}checked  {% endif %}value="Représentants agrées"/>&nbsp;Représentants agrées </label>
                                    </div>
                                </ul>
                            </div>
                        </div>
                    </form>



                    <div class="row">
                        <div class="col-md-6">



                        </div>

                        <div class="col-md-6"></div>

                    </div>


                    <div class="row">
                        <div class="col-md-6">



                        </div>
                        <p id="add_here">

                        </p>
                        <div class="col-md-6"></div>

                    </div>











                </div>
            </div>
        </div>







        <input type="text" id="base"  class="form-control"  value="800"    style="border-radius: -2px!important;display: none;">
        <input type="text" id="local" class="form-control" value="2050"    style="border-radius: -2px!important;display: none;">
        <input type="text" id="rub1"  class="form-control"  value="2000"   style="border-radius: -2px!important;display: none;">
        <input type="text" id="rub2"  class="form-control"  value="1000"   style="border-radius: -2px!important;display: none;">
        <input type="text" id="rub3"  class="form-control"  value="400"    style="border-radius: -2px!important;display: none;">


        <div class="row">

            <div class="col-md-6">

                <tr><td><input type="number" name="sum2" id="sum2" class="pres_marq" style="display:none;" /></td></tr>

                <td><input type="number"  id="sum3" name="sum3"  class="pres_marq" {% if referencement['sum3'] %} value="{{  referencement['sum3']}}" {% else %} value="0"{% endif %}  style="display:none;" /></td>
                <td> <input type="number" id="mari" name="mari"  {% if referencement['mari'] %} value="{{  referencement['mari']}}" {% else %} value="0"{% endif %}   style="display: none" ></td>
                <td> <input type="number" id="marque_pack" name="marque_pack" {% if referencement['marque_pack'] %} value="{{  referencement['marque_pack']}}" {% else %} value="0"{% endif %}  style="display: none" ></td>
                <td> <input type="number" id="resulta" name="resulta" {% if referencement['resulta'] %} value="{{  referencement['resulta']}}" {% else %} value="0"{% endif %}    style="display: none"></td>
                <td> <input type="number" id="resulta2" name="resulta2"  {% if referencement['resulta2'] %} value="{{  referencement['resulta2']}}" {% else %} value="0"{% endif %} style="display: none" ></td>

                <td> <input type="number" id="rubd"  name="rubd"     {% if referencement['rubd'] %} value="{{  referencement['rubd']}}" {% else %} value="0"{% endif %} style="display: none"></td>
                <td><input type="number" id="rania" name="rania"    {% if referencement['rania'] %} value="{{  referencement['rania']}}" {% else %} value="0"{% endif %} style="display: none"></td>
                <td><input type="number" id="raniad" name="raniad"  {% if referencement['raniad'] %} value="{{  referencement['raniad']}}" {% else %} value="0"{% endif %} style="display: none"></td><br>




                <input type="text" id="rub_supp_1"  class="form-control"     value="0"    style="border-radius: -2px;display:none;">
                <input type="text" id="rub_supp_2"  class="form-control"     value="0"    style="border-radius: -2px;display:none;">
                <input type="text" id="rub_supp_3"  class="form-control"     value="0"    style="border-radius: -2px;display:none;">
                <input type="text" id="rub_supp_4"  class="form-control"     value="0"    style="border-radius: -2px ;display:none;">
                <input type="text" id="rub_supp_5"  class="form-control"     value="0"    style="border-radius: -2px;display:none;">
                <input type="text" id="rub_supp_6"  class="form-control"     value="0"    style="border-radius: -2px;display:none;">
                <input type="text" id="rub_supp_7"  class="form-control"     value="0"    style="border-radius: -2px ;display:none;">

                <input type="text" id="localiter_supp" class="form-control"  value="0"    style="border-radius: -2px ;display:none;">
                <input type="text" id="localiter_supp1" class="form-control"  value="0"    style="border-radius: -2px ;display:none;">
                <input type="text" id="localiter_supp2" class="form-control"  value="0"    style="border-radius: -2px ;display:none;">
                <input type="text" id="localiter_supp3" class="form-control"  value="0"    style="border-radius: -2px ;display:none;">
                <input type="text" id="localiter_supp4" class="form-control"  value="0"    style="border-radius: -2px ;display:none;">
                <input type="text" id="localiter_supp5" class="form-control"  value="0"    style="border-radius: -2px ;display:none;">
                <input type="text" id="localiter_supp6" class="form-control"  value="0"    style="border-radius: -2px ;display:none;">
                <input type="text" id="localiter_supp7" class="form-control"  value="0"    style="border-radius: -2px ;display:none;">

                <input type="text" id="final"  class="form-control"  value="0"    style="border-radius: -2px ; display:none;">




                <div class="form-group">

                    <button id="khalila" class="btn black"><span style="color: #ffdb2e;">Budget estimé</span> <br>Référencement</button>
                    <div id="ref" style="display: none; margin-top: 20px;"><input class="results" type="text" id="fayssal" value="0" readonly="">
                    </div>
                </div>

            </div>

        </div>




        <div  class="form-group testpres" style="margin-bottom: 20px!important;">
        </div>


    </div>
            </form>
    </section>

    <script type="text/javascript">

        $("#num2").on("keydown keyup change load", function() {
            var num2 = document.getElementById('num2').value;
            var prest =num2/3;
            var prest = -Math.abs(prest);
            var prest =Math.floor(prest);
            var prest = Math.abs(prest);
            var result2 = Math.ceil(parseInt(num2)/3)  * 1500;
            document.getElementById("resulta").value = result2 ;
            document.getElementById("resulta2").value = prest ;
            if (num2 == 0) {
                $("#select_rub_prest7").hide();
                $('.prest8').prop('checked', false);
            }else
            {
                $("#select_rub_prest7").show();
            }
            cal();
            kas();
        });

        $(document).ready(function() {


            $(window,document).on('change load', '.controle-checkbox', function () {
                var sum_prest= parseInt( $("#sum").val());
                var num2_prest=  parseInt($("#num2").val());
                var totale =sum_prest+num2_prest;
                /* alert(totale);*/

                var t  = $('input.controle-checkbox:checked').length;
                var t1 = $('input.controle-checkbox:checked');

                $('#p_count').val(t);

                if(t >= totale)
                {
                    $('.controle-checkbox').not(t1).prop('disabled',this.checked);
                }
                else
                {
                    $('.controle-checkbox').not(t1).prop('disabled',false);
                }
            });

            $('.loaders').css('display','none');
        });

        $(document).on('change keydown keyup ', '.mySelect,.prest ', function () {

            $('.loaders').css('display','');
            form =$('#jsForm');
            $.ajax({
                url: '{{ path('referencement_commande_devis_des_rub_fayssal') }}',
                type: 'POST',
                data: form.serialize(),
                statusCode: {
                    //traitement en cas de succès
                    200: function (response) {
                        var successMessage = response;

                        console.log(successMessage);
                        $('.loaders').css('display','none');
                    },
                    //traitement en cas d'erreur (on peut aussi traiter le cas erreur 500...)
                    412: function (response) {
                        var errorsForm = response.responseJSON.formErrors;
                        //on affiche les erreurs...
                        alert('error');
                    }
                }
            });
        });


        $(document).on('click ', '.positionnement', function () {
            form =$('#jsForm ');
            $.ajax({
                url: '{{ path('referencement_commande_devis_des_marque') }}',
                type: 'POST',
                data: form.serialize(),
                statusCode: {
                    //traitement en cas de succès
                    200: function (response) {
                        var successMessage = response;
                        console.log(successMessage);
                        $('.loaders').css('display','none');
                    },
                    412: function (response) {
                        var errorsForm = response.responseJSON.formErrors;
                        //on affiche les erreurs...
                        alert('error');
                    }
                }
            });
        });


        $(document).on('keyup', '.input_marque', function () {
            var marque =   $("#marq").val();
            var marque1 =  $("#marq1").val();
            var marque2 =  $("#marq2").val();
            var marque3 =  $("#marq3").val();
            var marque4 =  $("#marq4").val();
            var marque5 =  $("#marq5").val();
            var marque6 =  $("#marq6").val();
            var marque7 =  $("#marq7").val();
            var marque8 =  $("#marq8").val();
            var marque9 =  $("#marq9").val();
            document.getElementById('marque').value=marque;
            document.getElementById('marque1').value=marque1;
            document.getElementById('marque2').value=marque2;
            document.getElementById('marque3').value=marque3;
            document.getElementById('marque4').value=marque4;
            document.getElementById('marque5').value=marque5;
            document.getElementById('marque6').value=marque6;
            document.getElementById('marque7').value=marque7;
            document.getElementById('marque8').value=marque8;
            document.getElementById('marque9').value=marque9;

        });
    </script>

    <script src="{{ asset('js/jquery.quicksearch.js') }}  "></script>


    <script>

        $('input#myInput').quicksearch('table#myTable   tbody tr');
        $('input#myInput_supp').quicksearch('table#myTable_supp   tbody tr');
        $('input#myInput_panier').quicksearch('table#myTable_panier   tbody tr');
        $('input#myInput1').quicksearch('table#myTable1 tbody tr');
        $('input#myInput_ville_first').quicksearch('table#myTable_ville tbody tr');
        $('input#myInput_ville_panier').quicksearch('table#myTable_ville_panier tbody tr');

        $('input#myInput_ville_first_1').quicksearch('table#myTable_ville_1 tbody tr');
        $('input#myInput_ville_panier_1').quicksearch('table#myTable_ville_panier_1 tbody tr');

        $('input#myInput_ville_first_2').quicksearch('table#myTable_ville_2 tbody tr');
        $('input#myInput_ville_panier_2').quicksearch('table#myTable_ville_panier_2 tbody tr');


        $('input#myInput_ville_first_3').quicksearch('table#myTable_ville_3 tbody tr');
        $('input#myInput_ville_panier_3').quicksearch('table#myTable_ville_panier_3 tbody tr');

        $('input#myInput_ville_first_4').quicksearch('table#myTable_ville_4 tbody tr');
        $('input#myInput_ville_panier_4').quicksearch('table#myTable_ville_panier_4 tbody tr');


    </script>
    <script type="text/javascript">

        $('.arms').on('change', function() {
            $('.arms').not(this).prop('checked', false);
        });


    </script>

    <script>


/*        $(window,"#num1").on("load  ", function() {


            var num1 = $("#num1").val();

            document.getElementById('nbr_rubrique').value = num1;
            if (num1 == 0) {

                $("#rubrique").show();
                $("#select_rub_prest").hide();
                $("#select_rub_prest1").hide();
                $("#select_rub_prest2").hide();
                $("#select_rub_prest3").hide();
                $("#select_rub_prest4").hide();
                $("#select_rub_prest5").hide();
                $("#select_rub_prest6").hide();
                $('.r,.r1,.r2,.r3,.r4,.r5,.r6,.prest1,.prest2,.prest3,.prest4,.prest5,.prest6,.prest7').prop('checked', false);

            }
            else
            if(num1==1)
            {
                $("#rubrique").show();
                $("#select_rub_prest").show();
                $("#select_rub_prest1").hide();
                $("#select_rub_prest2").hide();
                $("#select_rub_prest3").hide();
                $("#select_rub_prest4").hide();
                $("#select_rub_prest5").hide();
                $("#select_rub_prest6").hide();

                $('.r1,.r2,.r3,.r4,.r5,.r6,.prest2,.prest3,.prest4,.prest5,.prest6,.prest7').prop('checked', false);
            }
            else
            if(num1==2)
            {
                $("#rubrique").show();
                $("#select_rub_prest").show();
                $("#select_rub_prest1").show();
                $("#select_rub_prest2").hide();
                $("#select_rub_prest3").hide();
                $("#select_rub_prest4").hide();
                $("#select_rub_prest5").hide();
                $("#select_rub_prest6").hide();


                $('.r2,.r3,.r4,.r5,.r6,.prest3,.prest4,.prest5,.prest6,.prest7').prop('checked', false);
            }
            else
            if(num1==3)
            {
                $("#rubrique").show();
                $("#select_rub_prest").show();
                $("#select_rub_prest1").show();
                $("#select_rub_prest2").show();
                $("#select_rub_prest3").hide();
                $("#select_rub_prest4").hide();
                $("#select_rub_prest5").hide();
                $("#select_rub_prest6").hide();



                $('.r3,.r4,.r5,.r6,.prest4,.prest5,.prest6,.prest7').prop('checked', false);
            }
            else
            if(num1==4)
            {
                $("#rubrique").show();
                $("#select_rub_prest").show();
                $("#select_rub_prest1").show();
                $("#select_rub_prest2").show();
                $("#select_rub_prest3").show();
                $("#select_rub_prest4").hide();
                $("#select_rub_prest5").hide();
                $("#select_rub_prest6").hide();

                $('.r4,.r5,.r6,.prest5,.prest6,.prest7').prop('checked', false);
            }
            else
            if(num1==5)
            {
                $("#rubrique").show();
                $("#select_rub_prest").show();
                $("#select_rub_prest1").show();
                $("#select_rub_prest2").show();
                $("#select_rub_prest3").show();
                $("#select_rub_prest4").show();
                $("#select_rub_prest5").hide();
                $("#select_rub_prest6").hide();
                $('.r5,.r6,.prest6,.prest7').prop('checked', false);


            }
            else
            if(num1==6)
            {
                $("#rubrique").show();
                $("#select_rub_prest").show();
                $("#select_rub_prest1").show();
                $("#select_rub_prest2").show();
                $("#select_rub_prest3").show();
                $("#select_rub_prest4").show();
                $("#select_rub_prest4").show();
                $("#select_rub_prest5").show();
                $("#select_rub_prest6").hide();
                $('.r6,.prest7').prop('checked', false);
            }
            else
            if(num1==7)
            {
                $("#rubrique").show();
                $("#select_rub_prest").show();
                $("#select_rub_prest1").show();
                $("#select_rub_prest2").show();
                $("#select_rub_prest3").show();
                $("#select_rub_prest4").show();
                $("#select_rub_prest4").show();
                $("#select_rub_prest5").show();
                $("#select_rub_prest6").show();
            }

        });*/


/*
        $("#num1,#num2").on("keydown keyup change load ", function()  {

            var sum = parseInt($('input[name=sum]').val());
            var num2 = parseInt($('input[name=num2]').val());
            var nbr_prestattion = Math.ceil(parseInt(sum+num2));
            document.getElementById("nbr_prestattion").value = nbr_prestattion ;

        });
*/

        $(document).on('click', '#khalila', function (e) {
            e.preventDefault();

            var div = document.getElementById("ref");
            if (div.style.display == "none") {
                div.style.display = "block";
            }
            else {
                div.style.display = "none";
            }
            document.getElementById('fayssal')/*.style.display = 'block'*/;
        });

        function ceiling(number, significance) {
            return Math.ceil(number / significance) * significance;
        }


        $(document).on('click', '.armss', function () {



            var arr = [];

            if($(this).is(":checked")){



                var c   = $(this).attr("value").split('|');


                calculate_localiter_second(c[2]);
            }
            else{

                var b  = $(this).attr("value").split('|');


                calculate_localiter_second_not(b[2]);
            }


            $('.armss:checked').each(function () {
                var v   = $(this).attr("value").split('|');

                arr.push(v[1]);



            });
            if(($(".armss").is(":checked"))) {


                $("#ville_principe_view_supp").text(arr);
                $("#select_ville_principe_supp").hide();
                $("#ville_principe_view_supp").show();}
            else{
                if ($('.armss').prop('checked', false)) {
                    /*var current = 	(this);
                     $(current).closest('.form-group').siblings(".testpres").first().find("li").remove();*/
                    $('#div').css('display', 'none');
                    $("#ville_principe_view_supp").html(null);
                    $("#ville_principe_view_supp").hide();
                    $("#select_ville_principe_supp").show();

                }
            }

//            $("#add_here").text(arr);

            calculate_rubrique_total();

        });



        $(document).on('click', '.armss1', function () {



            var arr = [];

            if($(this).is(":checked")){



                var c   = $(this).attr("value").split('|');


                calculate_localiter_second_r2(c[2],1);
            }
            else{

                var b  = $(this).attr("value").split('|');


                calculate_localiter_second_not_r2(b[2],1);
            }


            $('.armss1:checked').each(function () {

                var v   = $(this).attr("value").split('|');
                arr.push(v[1]);

            });
            if(($(".armss1").is(":checked"))) {


                $("#ville_principe_view_supp_1").text(arr);
                $("#select_ville_principe_supp_1").hide();
                $("#ville_principe_view_supp_1").show();}
            else{
                if ($('.armss1').prop('checked', false)) {
                    /*var current = 	(this);
                     $(current).closest('.form-group').siblings(".testpres").first().find("li").remove();*/
                    $('#div').css('display', 'none');
                    $("#ville_principe_view_supp_1").html(null);
                    $("#ville_principe_view_supp_1").hide();
                    $("#select_ville_principe_supp_1").show();

                }
            }

            //     $("#add_here").text(arr);

            calculate_rubrique_total();

        });


        $(document).on('click', '.armss2', function () {



            var arr = [];

            if($(this).is(":checked")){



                var c   = $(this).attr("value").split('|');


                calculate_localiter_second_r2(c[2],2);
            }
            else{

                var b  = $(this).attr("value").split('|');


                calculate_localiter_second_not_r2(b[2],2);
            }


            $('.armss2:checked').each(function () {

                var v   = $(this).attr("value").split('|');
                arr.push(v[1]);

            });
            if(($(".armss2").is(":checked"))) {


                $("#ville_principe_view_supp_2").text(arr);
                $("#select_ville_principe_supp_2").hide();
                $("#ville_principe_view_supp_2").show();}
            else{
                if ($('.armss2').prop('checked', false)) {
                    /*var current = 	(this);
                     $(current).closest('.form-group').siblings(".testpres").first().find("li").remove();*/
                    $('#div').css('display', 'none');
                    $("#ville_principe_view_supp_2").html(null);
                    $("#ville_principe_view_supp_2").hide();
                    $("#select_ville_principe_supp_2").show();

                }
            }

            //     $("#add_here").text(arr);

            calculate_rubrique_total();

        });

        $(document).on('click', '.armss3', function () {



            var arr = [];

            if($(this).is(":checked")){



                var c   = $(this).attr("value").split('|');


                calculate_localiter_second_r2(c[2],3);
            }
            else{

                var b  = $(this).attr("value").split('|');


                calculate_localiter_second_not_r2(b[2],3);
            }


            $('.armss3:checked').each(function () {

                var v   = $(this).attr("value").split('|');
                arr.push(v[1]);

            });
            if(($(".armss3").is(":checked"))) {


                $("#ville_principe_view_supp_3").text(arr);
                $("#select_ville_principe_supp_3").hide();
                $("#ville_principe_view_supp_3").show();}
            else{
                if ($('.armss3').prop('checked', false)) {
                    /*var current = 	(this);
                     $(current).closest('.form-group').siblings(".testpres").first().find("li").remove();*/
                    $('#div').css('display', 'none');
                    $("#ville_principe_view_supp_3").html(null);
                    $("#ville_principe_view_supp_3").hide();
                    $("#select_ville_principe_supp_3").show();

                }
            }

            //     $("#add_here").text(arr);

            calculate_rubrique_total();

        });




        $(document).on('click', '.armss4', function () {



            var arr = [];

            if($(this).is(":checked")){



                var c   = $(this).attr("value").split('|');


                calculate_localiter_second_r2(c[2],4);
            }
            else{

                var b  = $(this).attr("value").split('|');


                calculate_localiter_second_not_r2(b[2],4);
            }


            $('.armss4:checked').each(function () {

                var v   = $(this).attr("value").split('|');
                arr.push(v[1]);

            });
            if(($(".armss4").is(":checked"))) {


                $("#ville_principe_view_supp_4").text(arr);
                $("#select_ville_principe_supp_4").hide();
                $("#ville_principe_view_supp_4").show();}
            else{
                if ($('.armss4').prop('checked', false)) {
                    /*var current = 	(this);
                     $(current).closest('.form-group').siblings(".testpres").first().find("li").remove();*/
                    $('#div').css('display', 'none');
                    $("#ville_principe_view_supp_4").html(null);
                    $("#ville_principe_view_supp_4").hide();
                    $("#select_ville_principe_supp_4").show();

                }
            }

            //     $("#add_here").text(arr);

            calculate_rubrique_total();

        });

        $(document).on('change', '.r', function () {

            if(($(".r").is(":checked"))) {

                var labels = $('#myTable :checked').map(function () {
                    return $(this).closest('label').text();
                }).get();

                $("#rubrique_view").html(labels);
                $("#select_rub").hide();
                $("#rubrique_view").show();




                var current = 	(this);
                var rubrique = (this).value;
                var b = $(current).attr('name');
                var res = b.substring(5, 6);
                var vb = 'prest' + res;
                var addvb = 'addprest' + res;
                $('#prestaAjax').css('display', '');
                var data_send = {'rubrique': rubrique};
                $.ajax({
                    url: '{{ path('ajax') }}',
                    type: 'POST',
                    data: data_send,
                    statusCode: {
                        //traitement en cas de succès
                        200: function (response) {
                            var successMessage = response;
                            $(current).closest('.form-group').siblings(".testpres").first().find("div").remove();
                            $(current).closest('.form-group').siblings(".testpres").first().find("li").remove();
                            $(current).closest('.form-group').siblings(".testpres").first().append(('<div class="dropdown" id="dropdown"> <button  class="btn dropdown-toggle tata btn_prestattion" type="button" id="dropdownMenu02" data-toggle="dropdown"aria-haspopup="true" aria-expanded="false">Listing des prestations et produits liés <span class="caret"></span></button> <ul  id="div" class="dropdown-menu testul" aria-labelledby="dropdownMenu2" style="overflow-y:scroll" ><li></li></ul> </div>'));
                            $.each(JSON.parse(successMessage), function (i, pres) {
                                if (vb) {
                                    $(current).closest('.form-group').siblings(".testpres").first().find('ul').append((' <li class="checked li"><label class="label_prest"><input id="prestation"  name="' + vb + '[]"  class="prest controle-checkbox prest1" type="checkbox" value="' + pres.id + '"/>' + pres.prestation + '</label></li> '));
                                }
                                else {
                                    $(current).closest('.form-group').siblings(".testpres").first().find('ul').append(('<li class="checked li"> <label class="label_prest"><input id="prestation"  name="prest[]"  class="prest controle-checkbox prest1"  type="checkbox"  value="' + pres.id + '"/>' + pres.prestation + '</label></li>'));
                                }
                                $('#prestaAjax').css('display', 'none');
                            });
                            if (addvb) {
                                $(document).keypress('.input' + addvb + '', function (event) {
                                    var length_input = $('input.input' + addvb + '').val();
                                    if (event.which == 13 && $('input.input' + addvb + '').val() != "") {
                                        var text = $('.input' + addvb + '').val();
                                        $('#checkboxes' + addvb + '').append('<label class="label_prest"><input  class="prest controle-checkbox prest1" name="' + addvb + '[]"  type="checkbox" value="' + text + '" checked/> ' + text + '</label><br />');
                                        $('.input' + addvb + '').val(null);
                                        $('#prestaAjax').css('display', 'none');
                                    }
                                });
                                $(current).closest('.form-group').siblings(".testpres").first().find('ul').append(('<li ><div id="checkboxes' + addvb + '" > </div>Autre <input id="addprestation" name="' + addvb + '[]" class="input' + addvb + ' controle-checkbox length-input prest "   type="text" placeholder="Renseigner la prestation ou le produit souhaité"style="width: 340px!important;height: 40px;!important;"/></li>'));
                            }
                            else {
                                $(document).keypress('.input', function (e) {
                                    var dInput = $('input.input').val();
                                    if (e.which == 13 && $('input.input').val() != "") {
                                        var text = $('.input').val();
                                        $('#checkboxes').append('<label class="label_prest"><input type="checkbox" id="addprestation" name="addprest[]" class="prest controle-checkbox prest1" value="' + text + '" checked/> ' + text + '</label><br />');
                                        $(".input").val(null);
                                        $('#prestaAjax').css('display', 'none');
                                    }
                                });
                                $(current).closest('.form-group').siblings(".testpres").first().find('ul').append(('<li> <div id="checkboxes"></div>Autre <input type="text" id="addprestation" name="addprest" class="input controle-checkbox in prest" placeholder="Renseigner la prestation ou le produit souhaité "style="width: 340px!important;height: 40px;!important;"/> </li>'));
                            }
                            $('#prestaAjax').css('display', 'none');
                        },
                        412: function (response) {
                            var errorsForm = response.responseJSON.formErrors;
                            alert('error');
                            $('#prestaAjax').css('display', 'none');
                        }
                    }
                });
                $('.testpres').css('display','');


            }
            else{
                if ($('.r').prop('checked', false)) {
                    /*var current = 	(this);
                     $(current).closest('.form-group').siblings(".testpres").first().find("li").remove();*/
                    $('#div').css('display', 'none');
                    $("#rubrique_view").html(null);
                    $("#rubrique_view").hide();
                    $("#select_rub").show();

                }
            }

        });



        $(document).on('change', '.r1', function () {

            if(($(".r1").is(":checked"))) {

                var labels = $('#myTable1 :checked').map(function () {
                    return $(this).closest('label').text();
                }).get();

                $("#rubrique1_view").html(labels);
                $("#select_rub1").hide();
                $("#rubrique1_view").show();



                var current = 	(this);
                var rubrique = (this).value;
                var b = $(current).attr('name');
                var res = b.substring(5, 6);
                var vb = 'prest' + res;
                var addvb = 'addprest' + res;
                $('#prestaAjax').css('display', '');
                var data_send = {'rubrique': rubrique};
                $.ajax({
                    url: '{{ path('ajax') }}',
                    type: 'POST',
                    data: data_send,
                    statusCode: {
                        //traitement en cas de succès
                        200: function (response) {
                            var successMessage = response;
                            $(current).closest('.form-group').siblings(".testpres").first().find("div").remove();
                            $(current).closest('.form-group').siblings(".testpres").first().find("li").remove();
                            $(current).closest('.form-group').siblings(".testpres").first().append(('<div class="dropdown" id="dropdown"> <button  class="btn dropdown-toggle tata btn_prestattion" type="button" id="dropdownMenu02" data-toggle="dropdown"aria-haspopup="true" aria-expanded="false">Listing des prestations et produits liés <span class="caret"></span></button> <ul  id="div1" class="dropdown-menu testul" aria-labelledby="dropdownMenu2" style="overflow-y:scroll" ><li></li></ul> </div>'));
                            $.each(JSON.parse(successMessage), function (i, pres) {
                                if (vb) {
                                    $(current).closest('.form-group').siblings(".testpres").first().find('ul').append((' <li class="checked li"><label class="label_prest"><input id="prestation"  name="' + vb + '[]"  class="prest controle-checkbox prest2" type="checkbox" value="' + pres.id + '"/>' + pres.prestation + '</label></li> '));
                                }
                                else {
                                    $(current).closest('.form-group').siblings(".testpres").first().find('ul').append(('<li class="checked li"> <label class="label_prest"><input id="prestation"  name="prest[]"  class="prest controle-checkbox prest2"  type="checkbox"  value="' + pres.id + '"/>' + pres.prestation + '</label></li>'));
                                }
                                $('#prestaAjax').css('display', 'none');
                            });
                            if (addvb) {
                                $(document).keypress('.input' + addvb + '', function (event) {
                                    var length_input = $('input.input' + addvb + '').val();
                                    if (event.which == 13 && $('input.input' + addvb + '').val() != "") {
                                        var text = $('.input' + addvb + '').val();
                                        $('#checkboxes' + addvb + '').append('<label class="label_prest"><input  class="prest controle-checkbox prest2" name="' + addvb + '[]"  type="checkbox" value="' + text + '" checked/> ' + text + '</label><br />');
                                        $('.input' + addvb + '').val(null);
                                        $('#prestaAjax').css('display', 'none');
                                    }
                                });
                                $(current).closest('.form-group').siblings(".testpres").first().find('ul').append(('<li ><div id="checkboxes' + addvb + '" > </div>Autre <input id="addprestation" name="' + addvb + '[]" class="input' + addvb + ' controle-checkbox length-input prest "   type="text" placeholder="Renseigner la prestation ou le produit souhaité"style="width: 340px!important;height: 40px;!important;"/></li>'));
                            }
                            else {
                                $(document).keypress('.input', function (e) {
                                    var dInput = $('input.input').val();
                                    if (e.which == 13 && $('input.input').val() != "") {
                                        var text = $('.input').val();
                                        $('#checkboxes').append('<label class="label_prest"><input type="checkbox" id="addprestation" name="addprest[]" class="prest controle-checkbox prest2" value="' + text + '" checked/> ' + text + '</label><br />');
                                        $(".input").val(null);
                                        $('#prestaAjax').css('display', 'none');
                                    }
                                });
                                $(current).closest('.form-group').siblings(".testpres").first().find('ul').append(('<li> <div id="checkboxes"></div>Autre <input type="text" id="addprestation" name="addprest" class="input controle-checkbox in prest" placeholder="Renseigner la prestation ou le produit souhaité "style="width: 340px!important;height: 40px;!important;"/> </li>'));
                            }
                            $('#prestaAjax').css('display', 'none');
                        },
                        412: function (response) {
                            var errorsForm = response.responseJSON.formErrors;
                            alert('error');
                            $('#prestaAjax').css('display', 'none');
                        }
                    }
                });
                $('.testpres').css('display','');

            }
            else{
                if ($('.r1').prop('checked', false)) {
                    /*var current = 	(this);
                     $(current).closest('.form-group').siblings(".testpres").first().find("li").remove();*/
                    $('#div1').css('display', 'none');
                    $("#rubrique1_view").html(null);
                    $("#rubrique1_view").hide();
                    $("#select_rub1").show();

                }
            }

        });
        $(document).on('click  ', '.r2', function () {


                    if(($(".r2").is(":checked"))) {

                        var labels = $('#myTable2 :checked').map(function () {
                            return $(this).closest('label').text();
                        }).get();
                        $("#rubrique2_view").html(labels);
                        $("#select_rub2").hide();
                        $("#rubrique2_view").show();



                        var current = 	(this);
                        var rubrique = (this).value;
                        var b = $(current).attr('name');

                        var res = b.substring(5, 6);
                        var vb = 'prest' + res;
                        var addvb = 'addprest' + res;
                        $('#prestaAjax').css('display', '');
                        var data_send = {'rubrique': rubrique};
                        $.ajax({
                            url: '{{ path('ajax') }}',
                            type: 'POST',
                            data: data_send,
                            statusCode: {
                                //traitement en cas de succès
                                200: function (response) {
                                    var successMessage = response;
                                    $(current).closest('.form-group').siblings(".testpres").first().find("div").remove();
                                    $(current).closest('.form-group').siblings(".testpres").first().find("li").remove();
                                    $(current).closest('.form-group').siblings(".testpres").first().append(('<div class="dropdown" id="dropdown"> <button  class="btn dropdown-toggle tata btn_prestattion" type="button" id="dropdownMenu02" data-toggle="dropdown"aria-haspopup="true" aria-expanded="false">Listing des prestations et produits liés <span class="caret"></span></button> <ul  id="div2" class="dropdown-menu testul" aria-labelledby="dropdownMenu2" style="overflow-y:scroll" ><li></li></ul> </div>'));
                                    $.each(JSON.parse(successMessage), function (i, pres) {
                                        if (vb) {
                                            $(current).closest('.form-group').siblings(".testpres").first().find('ul').append((' <li class="checked li"><label class="label_prest"><input id="prestation"  name="' + vb + '[]"  class="prest controle-checkbox prest3" type="checkbox" value="' + pres.id + '"/>' + pres.prestation + '</label></li> '));
                                        }
                                        else {
                                            $(current).closest('.form-group').siblings(".testpres").first().find('ul').append(('<li class="checked li"> <label class="label_prest"><input id="prestation"  name="prest[]"  class="prest controle-checkbox prest3"  type="checkbox"  value="' + pres.id + '"/>' + pres.prestation + '</label></li>'));
                                        }
                                        $('#prestaAjax').css('display', 'none');
                                    });
                                    if (addvb) {
                                        $(document).keypress('.input' + addvb + '', function (event) {
                                            var length_input = $('input.input' + addvb + '').val();
                                            if (event.which == 13 && $('input.input' + addvb + '').val() != "") {
                                                var text = $('.input' + addvb + '').val();
                                                $('#checkboxes' + addvb + '').append('<label class="label_prest"><input  class="prest controle-checkbox prest3" name="' + addvb + '[]"  type="checkbox" value="' + text + '" checked/> ' + text + '</label><br />');
                                                $('.input' + addvb + '').val(null);
                                                $('#prestaAjax').css('display', 'none');
                                            }
                                        });
                                        $(current).closest('.form-group').siblings(".testpres").first().find('ul').append(('<li ><div id="checkboxes' + addvb + '" > </div>Autre <input id="addprestation" name="' + addvb + '[]" class="input' + addvb + ' controle-checkbox length-input prest "   type="text" placeholder="Renseigner la prestation ou le produit souhaité"style="width: 340px!important;height: 40px;!important;"/></li>'));
                                    }
                                    else {
                                        $(document).keypress('.input', function (e) {
                                            var dInput = $('input.input').val();
                                            if (e.which == 13 && $('input.input').val() != "") {
                                                var text = $('.input').val();
                                                $('#checkboxes').append('<label class="label_prest"><input type="checkbox" id="addprestation" name="addprest[]" class="prest controle-checkbox prest3" value="' + text + '" checked/> ' + text + '</label><br />');
                                                $(".input").val(null);
                                                $('#prestaAjax').css('display', 'none');
                                            }
                                        });
                                        $(current).closest('.form-group').siblings(".testpres").first().find('ul').append(('<li> <div id="checkboxes"></div>Autre <input type="text" id="addprestation" name="addprest" class="input controle-checkbox in prest " placeholder="Renseigner la prestation ou le produit souhaité "style="width: 340px!important;height: 40px;!important;"/> </li>'));
                                    }
                                    $('#prestaAjax').css('display', 'none');
                                },
                                412: function (response) {
                                    var errorsForm = response.responseJSON.formErrors;
                                    alert('error');
                                    $('#prestaAjax').css('display', 'none');
                                }
                            }
                        });
                        $('.testpres').css('display','');



                    }

                    else
                    {
                        if ($('.r2').prop('checked', false)) {
                            $('#div2').css('display', 'none');
                            $("#rubrique2_view").html(null);
                            $("#rubrique2_view").hide();
                            $("#select_rub2").show();

                        }
                    }
                }
        );


        $(document).on('click  ', '.r3', function () {


                    if(($(".r3").is(":checked"))) {




                        var labels = $('#myTable3 :checked').map(function () {
                            return $(this).closest('label').text();
                        }).get();
                        $("#rubrique3_view").html(labels);
                        $("#select_rub3").hide();
                        $("#rubrique3_view").show();






                        var current = 	(this);
                        var rubrique = (this).value;
                        var b = $(current).attr('name');
                        var res = b.substring(5, 6);
                        var vb = 'prest' + res;
                        var addvb = 'addprest' + res;
                        $('#prestaAjax').css('display', '');
                        var data_send = {'rubrique': rubrique};
                        $.ajax({
                            url: '{{ path('ajax') }}',
                            type: 'POST',
                            data: data_send,
                            statusCode: {
                                //traitement en cas de succès
                                200: function (response) {
                                    var successMessage = response;
                                    $(current).closest('.form-group').siblings(".testpres").first().find("div").remove();
                                    $(current).closest('.form-group').siblings(".testpres").first().find("li").remove();
                                    $(current).closest('.form-group').siblings(".testpres").first().append(('<div class="dropdown" id="dropdown"> <button  class="btn dropdown-toggle tata btn_prestattion" type="button" id="dropdownMenu02" data-toggle="dropdown"aria-haspopup="true" aria-expanded="false">Listing des prestations et produits liés <span class="caret"></span></button> <ul  id="div3" class="dropdown-menu testul" aria-labelledby="dropdownMenu2" style="overflow-y:scroll" ><li></li></ul> </div>'));
                                    $.each(JSON.parse(successMessage), function (i, pres) {
                                        if (vb) {
                                            $(current).closest('.form-group').siblings(".testpres").first().find('ul').append((' <li class="checked li"><label class="label_prest"><input id="prestation"  name="' + vb + '[]"  class="prest controle-checkbox prest4" type="checkbox" value="' + pres.id + '"/>' + pres.prestation + '</label></li> '));
                                        }
                                        else {
                                            $(current).closest('.form-group').siblings(".testpres").first().find('ul').append(('<li class="checked li"> <label class="label_prest"><input id="prestation"  name="prest[]"  class="prest controle-checkbox prest4"  type="checkbox"  value="' + pres.id + '"/>' + pres.prestation + '</label></li>'));
                                        }
                                        $('#prestaAjax').css('display', 'none');
                                    });
                                    if (addvb) {
                                        $(document).keypress('.input' + addvb + '', function (event) {
                                            var length_input = $('input.input' + addvb + '').val();
                                            if (event.which == 13 && $('input.input' + addvb + '').val() != "") {
                                                var text = $('.input' + addvb + '').val();
                                                $('#checkboxes' + addvb + '').append('<label class="label_prest"><input  class="prest controle-checkbox prest4" name="' + addvb + '[]"  type="checkbox" value="' + text + '" checked/> ' + text + '</label><br />');
                                                $('.input' + addvb + '').val(null);
                                                $('#prestaAjax').css('display', 'none');
                                            }
                                        });
                                        $(current).closest('.form-group').siblings(".testpres").first().find('ul').append(('<li ><div id="checkboxes' + addvb + '" > </div>Autre <input id="addprestation" name="' + addvb + '[]" class="input' + addvb + ' controle-checkbox length-input prest "   type="text" placeholder="Renseigner la prestation ou le produit souhaité"style="width: 340px!important;height: 40px;!important;"/></li>'));
                                    }
                                    else {
                                        $(document).keypress('.input', function (e) {
                                            var dInput = $('input.input').val();
                                            if (e.which == 13 && $('input.input').val() != "") {
                                                var text = $('.input').val();
                                                $('#checkboxes').append('<label class="label_prest"><input type="checkbox" id="addprestation" name="addprest[]" class="prest controle-checkbox prest4" value="' + text + '" checked/> ' + text + '</label><br />');
                                                $(".input").val(null);
                                                $('#prestaAjax').css('display', 'none');
                                            }
                                        });
                                        $(current).closest('.form-group').siblings(".testpres").first().find('ul').append(('<li> <div id="checkboxes"></div>Autre <input type="text" id="addprestation" name="addprest" class="input controle-checkbox in prest" placeholder="Renseigner la prestation ou le produit souhaité "style="width: 340px!important;height: 40px;!important;"/> </li>'));
                                    }
                                    $('#prestaAjax').css('display', 'none');
                                },
                                412: function (response) {
                                    var errorsForm = response.responseJSON.formErrors;
                                    alert('error');
                                    $('#prestaAjax').css('display', 'none');
                                }
                            }
                        });
                        $('.testpres').css('display','');




                    }

                    else
                    {
                        if ($('.r3').prop('checked', false)) {
                            $('#div2').css('display', 'none');
                            $("#rubrique3_view").html(null);
                            $("#rubrique3_view").hide();
                            $("#select_rub3").show();

                        }
                    }
                }
        );



        $(document).on('click  ', '.r4', function () {


                    if(($(".r4").is(":checked"))) {

                        var labels = $('#myTable4 :checked').map(function () {
                            return $(this).closest('label').text();
                        }).get();
                        $("#rubrique4_view").html(labels);
                        $("#select_rub4").hide();
                        $("#rubrique4_view").show();


                        var current = 	(this);
                        var rubrique = (this).value;
                        var b = $(current).attr('name');
                        var res = b.substring(5, 6);
                        var vb = 'prest' + res;
                        var addvb = 'addprest' + res;
                        $('#prestaAjax').css('display', '');
                        var data_send = {'rubrique': rubrique};
                        $.ajax({
                            url: '{{ path('ajax') }}',
                            type: 'POST',
                            data: data_send,
                            statusCode: {
                                //traitement en cas de succès
                                200: function (response) {
                                    var successMessage = response;
                                    $(current).closest('.form-group').siblings(".testpres").first().find("div").remove();
                                    $(current).closest('.form-group').siblings(".testpres").first().find("li").remove();
                                    $(current).closest('.form-group').siblings(".testpres").first().append(('<div class="dropdown" id="dropdown"> <button  class="btn dropdown-toggle tata btn_prestattion" type="button" id="dropdownMenu02" data-toggle="dropdown"aria-haspopup="true" aria-expanded="false">Listing des prestations et produits liés <span class="caret"></span></button> <ul  id="div4" class="dropdown-menu testul" aria-labelledby="dropdownMenu2" style="overflow-y:scroll" ><li></li></ul> </div>'));
                                    $.each(JSON.parse(successMessage), function (i, pres) {
                                        if (vb) {
                                            $(current).closest('.form-group').siblings(".testpres").first().find('ul').append((' <li class="checked li"><label class="label_prest"><input id="prestation"  name="' + vb + '[]"  class="prest controle-checkbox prest5" type="checkbox" value="' + pres.id + '"/>' + pres.prestation + '</label></li> '));
                                        }
                                        else {
                                            $(current).closest('.form-group').siblings(".testpres").first().find('ul').append(('<li class="checked li"> <label class="label_prest"><input id="prestation"  name="prest[]"  class="prest controle-checkbox prest5"  type="checkbox"  value="' + pres.id + '"/>' + pres.prestation + '</label></li>'));
                                        }
                                        $('#prestaAjax').css('display', 'none');
                                    });
                                    if (addvb) {
                                        $(document).keypress('.input' + addvb + '', function (event) {
                                            var length_input = $('input.input' + addvb + '').val();
                                            if (event.which == 13 && $('input.input' + addvb + '').val() != "") {
                                                var text = $('.input' + addvb + '').val();
                                                $('#checkboxes' + addvb + '').append('<label class="label_prest"><input  class="prest controle-checkbox prest5" name="' + addvb + '[]"  type="checkbox" value="' + text + '" checked/> ' + text + '</label><br />');
                                                $('.input' + addvb + '').val(null);
                                                $('#prestaAjax').css('display', 'none');
                                            }
                                        });
                                        $(current).closest('.form-group').siblings(".testpres").first().find('ul').append(('<li ><div id="checkboxes' + addvb + '" > </div>Autre <input id="addprestation" name="' + addvb + '[]" class="input' + addvb + ' controle-checkbox length-input prest "   type="text" placeholder="Renseigner la prestation ou le produit souhaité"style="width: 340px!important;height: 40px;!important;"/></li>'));
                                    }
                                    else {
                                        $(document).keypress('.input', function (e) {
                                            var dInput = $('input.input').val();
                                            if (e.which == 13 && $('input.input').val() != "") {
                                                var text = $('.input').val();
                                                $('#checkboxes').append('<label class="label_prest"><input type="checkbox" id="addprestation" name="addprest[]" class="prest controle-checkbox prest5" value="' + text + '" checked/> ' + text + '</label><br />');
                                                $(".input").val(null);
                                                $('#prestaAjax').css('display', 'none');
                                            }
                                        });
                                        $(current).closest('.form-group').siblings(".testpres").first().find('ul').append(('<li> <div id="checkboxes"></div>Autre <input type="text" id="addprestation" name="addprest" class="input controle-checkbox in prest" placeholder="Renseigner la prestation ou le produit souhaité "style="width: 340px!important;height: 40px;!important;"/> </li>'));
                                    }
                                    $('#prestaAjax').css('display', 'none');
                                },
                                412: function (response) {
                                    var errorsForm = response.responseJSON.formErrors;
                                    alert('error');
                                    $('#prestaAjax').css('display', 'none');
                                }
                            }
                        });
                        $('.testpres').css('display','');
                    }

                    else
                    {
                        if ($('.r4').prop('checked', false)) {
                            $('#div2').css('display', 'none');
                            $("#rubrique4_view").html(null);
                            $("#rubrique4_view").hide();
                            $("#select_rub4").show();

                        }
                    }
                }
        );



        $(document).on('change', '.ville_first', function () {

            if(($(".ville_first").is(":checked"))) {



                var labels = $('#myTable_ville :checked').map(function () {
                    return $(this).closest('label').text();
                }).get();

                $("#ville_principe_view").html(labels);
                $("#select_ville_principe").hide();
                $("#ville_principe_view").show();}
            else{
                if ($('.ville_first').prop('checked', false)) {

                    /*var current = 	(this);
                     $(current).closest('.form-group').siblings(".testpres").first().find("li").remove();*/
                    $('#div').css('display', 'none');
                    $("#ville_principe_view").html(null);
                    $("#ville_principe_view").hide();
                    $("#select_ville_principe").show();

                }
            }

        });



        $(document).on('change', '.ville_first_1', function () {

            if(($(".ville_first_1").is(":checked"))) {



                var labels = $('#myTable_ville_1 :checked').map(function () {
                    return $(this).closest('label').text();
                }).get();

                $("#ville_principe_view_1").html(labels);
                $("#select_ville_principe_1").hide();
                $("#ville_principe_view_1").show();}
            else{
                if ($('.ville_first_1').prop('checked', false)) {

                    /*var current = 	(this);
                     $(current).closest('.form-group').siblings(".testpres").first().find("li").remove();*/
                    $('#div').css('display', 'none');
                    $("#ville_principe_view_1").html(null);
                    $("#ville_principe_view_1").hide();
                    $("#select_ville_principe_1").show();

                }
            }

        });



        $(document).on('change', '.ville_first_2', function () {

            if(($(".ville_first_2").is(":checked"))) {



                var labels = $('#myTable_ville_2 :checked').map(function () {
                    return $(this).closest('label').text();
                }).get();

                $("#ville_principe_view_2").html(labels);
                $("#select_ville_principe_2").hide();
                $("#ville_principe_view_2").show();}
            else{
                if ($('.ville_first_2').prop('checked', false)) {


                    $('#div').css('display', 'none');
                    $("#ville_principe_view_2").html(null);
                    $("#ville_principe_view_2").hide();
                    $("#select_ville_principe_2").show();

                }
            }

        });


        $(document).on('change', '.ville_first_3', function () {

            if(($(".ville_first_3").is(":checked"))) {



                var labels = $('#myTable_ville_3 :checked').map(function () {
                    return $(this).closest('label').text();
                }).get();

                $("#ville_principe_view_3").html(labels);
                $("#select_ville_principe_3").hide();
                $("#ville_principe_view_3").show();}
            else{
                if ($('.ville_first_3').prop('checked', false)) {

                    /*var current = 	(this);
                     $(current).closest('.form-group').siblings(".testpres").first().find("li").remove();*/
                    $('#div').css('display', 'none');
                    $("#ville_principe_view_3").html(null);
                    $("#ville_principe_view_3").hide();
                    $("#select_ville_principe_3").show();

                }
            }

        });



        $(document).on('change', '.ville_first_4', function () {

            if(($(".ville_first_4").is(":checked"))) {



                var labels = $('#myTable_ville_4 :checked').map(function () {
                    return $(this).closest('label').text();
                }).get();

                $("#ville_principe_view_4").html(labels);
                $("#select_ville_principe_4").hide();
                $("#ville_principe_view_4").show();}
            else{
                if ($('.ville_first_4').prop('checked', false)) {

                    /*var current = 	(this);
                     $(current).closest('.form-group').siblings(".testpres").first().find("li").remove();*/
                    $('#div').css('display', 'none');
                    $("#ville_principe_view_4").html(null);
                    $("#ville_principe_view_4").hide();
                    $("#select_ville_principe_4").show();

                }
            }

        });


        $(document).on('change', '.arms', function () {


            //
            if($(this).is(":checked")){

                var num1 = $("#num1").val();
                var v  =  $('.arms:checked').attr("value").split('|');



                calculate_first_one(v[1]);


                $(" input[value*='"+v[0]+"|'][name='villes_panier']").parent().hide();

            }
            else{


                var v  =  $(this).attr("value").split('|');

                $("input[value*='"+v[0]+"|'][name='villes_panier']").parent().show();

            }

            calculate_rubrique_total();
        });

        $(document).on('change', '.arms1', function () {


            //
            if($(this).is(":checked")){

                var v  =  $('.arms1:checked').attr("value").split('|');


                calculate_second_one(1,v);

                $(" input[value*='"+v[0]+"|'][name='villes_panier1']").parent().hide();

            }
            else{


                var v  =  $(this).attr("value").split('|');

                $("input[value*='"+v[0]+"|'][name='villes_panier1']").parent().show();

            }
            calculate_rubrique_total();
        });

        $(document).on('change', '.arms2', function () {


            //
            if($(this).is(":checked")){

                var v  =  $('.arms2:checked').attr("value").split('|');


                calculate_second_one(2,v);

                $(" input[value*='"+v[0]+"|'][name='villes_panier2']").parent().hide();

            }
            else{


                var v  =  $(this).attr("value").split('|');

                $("input[value*='"+v[0]+"|'][name='villes_panier2']").parent().show();

            }

            calculate_rubrique_total();
        });
        $(document).on('change', '.arms3', function () {


            //
            if($(this).is(":checked")){

                var v  =  $('.arms3:checked').attr("value").split('|');


                calculate_second_one(3,v);

                $(" input[value*='"+v[0]+"|'][name='villes_panier3']").parent().hide();

            }
            else{


                var v  =  $(this).attr("value").split('|');

                $("input[value*='"+v[0]+"|'][name='villes_panier3']").parent().show();
            }

            calculate_rubrique_total();
        });

        $(document).on('change', '.arms4', function () {


            //
            if($(this).is(":checked")){

                var v  =  $('.arms4:checked').attr("value").split('|');


                calculate_second_one(4,v);


                $(" input[value*='"+v[0]+"|'][name='villes_panier4']").parent().hide();

            }
            else{


                var v  =  $(this).attr("value").split('|');

                $("input[value*='"+v[0]+"|'][name='villes_panier4']").parent().show();

            }

            calculate_rubrique_total();

        });





        function calculate_first_one(v){


            var rub  =  $('#check:checked').attr("value").split('|');


            console.log(v);

            console.log(rub[1]);




            var base  =  parseInt($('input[id=base]').val());
            var local =  parseInt($('input[id=local]').val());
            var rub1  =  parseInt($('input[id=rub1]').val());
            var rub2  =  parseInt($('input[id=rub2]').val());
            var rub3  =  parseInt($('input[id=rub3]').val());


            if (rub[1]=='RU1'){

                if(v=='1'){
                    var b =0;

                    b = base + local + rub1;

                    $('input[id=final]').val(ceiling(b,50));

                }

                if(v=='2'){
                    var b =0;

                    b  = base + ((local + rub1)* 0.8);

                    $('input[id=final]').val(ceiling(b,50));

                }
                if(v=='3'){
                    var b =0;
                    b   = base + ((local + rub1)* 0.6);

                    $('input[id=final]').val(ceiling(b,50));

                }
                if(v=='4'){
                    var b =0;
                    b = base + ((local + rub1)* 0.4);

                    $('input[id=final]').val(ceiling(b,50));

                }
                if(v=='5'){
                    var b =0;
                    b = base + ((local + rub1)* 0.3);

                    $('input[id=final]').val(ceiling(b,50));


                }

            }
            if (rub[1]=='RU2'){


                if(v=='1'){
                    var b =0;
                    b = base + ((local)+ ((rub2)));

                    $('input[id=final]').val(ceiling(b,50));

                }

                if(v=='2'){
                    var b =0;
                    b = base + ((local * 0.8)+ ((rub2* 0.8) ));

                    $('input[id=final]').val(ceiling(b,50));

                }
                if(v=='3'){
                    var b =0;
                    b = base + ((local * 0.6)+ ((rub2* 0.6) ));

                    $('input[id=final]').val(ceiling(b,50));

                }
                if(v=='4'){
                    var b =0;
                    b = base + ((local * 0.4)+ ((rub2* 0.4)));

                    $('input[id=final]').val(ceiling(b,50));

                }
                if(v=='5'){
                    var b =0;
                    b = base + ((local * 0.3)+ ((rub2* 0.3) ));

                    $('input[id=final]').val(ceiling(b,50));


                }

            }
            if (rub[1]=='RU3'){

                if(v=='1'){
                    var b =0;
                    b = base + ((local)+ ((rub3 )));

                    $('input[id=final]').val(ceiling(b,50));

                }

                if(v=='2'){

                    var b =0;
                    console.log('base : '+base);
                    console.log('local : '+local);
                    console.log('rub3 : '+ rub3);
                    b = base +((local * 0.8) + ((rub3  * 0.8) ));

                    $('input[id=final]').val(ceiling(b,50));

                }
                if(v=='3'){
                    var b =0;
                    b = base + ((local * 0.6)+((rub3 * 0.6) ));

                    $('input[id=final]').val(ceiling(b,50));

                }
                if(v=='4'){
                    var b =0;
                    b = base + ((local * 0.4)+ ((rub3 * 0.4) ));

                    $('input[id=final]').val(ceiling(b,50));

                }
                if(v=='5'){
                    var b =0;
                    b = base + ((local * 0.3)+ ((rub3* 0.3) ));

                    $('input[id=final]').val(ceiling(b,50));


                }
            }
        }


        function calculate_second_one(c,v){

            var rub =  $('#check'+c+':checked').attr("value").split('|');


            var base  =  parseInt($('input[id=base]').val());
            var local =  parseInt($('input[id=local]').val());
            var rub1  =  parseInt($('input[id=rub1]').val());
            var rub2  =  parseInt($('input[id=rub2]').val());
            var rub3  =  parseInt($('input[id=rub3]').val());


            if (rub[1]=='RU1'){

                if(v[1]=='1'){
                    var b =0;
                    b = local + rub1;
                    console.log('b before'+b);
                    b = b * 0.5;
                    console.log('b after'+b);
                    $('input[id=rub_supp_'+c+']').val(ceiling(b,50));

                }

                if(v[1]=='2'){
                    var b =0;
                    b =  ((local + rub1)* 0.8);

                    b = b* 0.5;

                    $('input[id=rub_supp_'+c+']').val(ceiling(b,50));

                }
                if(v[1]=='3'){
                    var b =0;
                    b =   ((local + rub1)* 0.6);
                    b = b* 0.5;
                    $('input[id=rub_supp_'+c+']').val(ceiling(b,50));

                }
                if(v[1]=='4'){
                    var b =0;
                    b =   ((local + rub1)* 0.4);
                    b = b* 0.5;
                    $('input[id=rub_supp_'+c+']').val(ceiling(b,50));

                }
                if(v[1]=='5'){
                    var b =0;
                    b =  ((local + rub1)* 0.3);
                    b = b* 0.5;
                    $('input[id=rub_supp_'+c+']').val(ceiling(b,50));


                }

            }
            if (rub[1]=='RU2'){


                if(v[1]=='1'){
                    var b =0;
                    b =   ((local)+ ((rub2)));
                    b = b* 0.5;
                    $('input[id=rub_supp_'+c+']').val(ceiling(b,50));

                }

                if(v[1]=='2'){
                    var b =0;
                    b =   ((local * 0.8)+ ((rub2* 0.8)));
                    b = b* 0.5;
                    $('input[id=rub_supp_'+c+']').val(ceiling(b,50));

                }
                if(v[1]=='3'){
                    var b =0;
                    b =   ((local * 0.6)+ ((rub2* 0.6)));
                    b = b* 0.5;
                    $('input[id=rub_supp_'+c+']').val(ceiling(b,50));

                }
                if(v[1]=='4'){
                    var b =0;
                    b =   ((local * 0.4)+ ((rub2* 0.4)));
                    b = b* 0.5;
                    $('input[id=rub_supp_'+c+']').val(ceiling(b,50));

                }
                if(v[1]=='5'){
                    var b =0;
                    b =   ((local * 0.3)+ ((rub2* 0.3) ));
                    b = b* 0.5;
                    $('input[id=rub_supp_'+c+']').val(ceiling(b,50));


                }

            }
            if (rub[1]=='RU3'){

                if(v[1]=='1'){
                    var b =0;
                    b =   ((local)+ ((rub3)));
                    b = b * 0.5;
                    $('input[id=rub_supp_'+c+']').val(ceiling(b,50));

                }

                if(v[1]=='2'){
                    var b =0;
                    b =  ((local * 0.8)+ ((rub3*  0.8) ));
                    b = b* 0.5;
                    $('input[id=rub_supp_'+c+']').val(ceiling(b,50));

                }
                if(v[1]=='3'){
                    var b =0;
                    b =   ((local * 0.6)+((rub3* 0.6) ));
                    b = b* 0.5;
                    $('input[id=rub_supp_'+c+']').val(ceiling(b,50));

                }
                if(v[1]=='4'){
                    var b =0;
                    b =   ((local * 0.4)+ ((rub3* 0.4) ));
                    b = b* 0.5;
                    $('input[id=rub_supp_'+c+']').val(ceiling(b,50));

                }
                if(v[1]=='5'){
                    var b =0;
                    b =  ((local * 0.3)+ ((rub3* 0.3)));
                    b = b* 0.5;
                    $('input[id=rub_supp_'+c+']').val(ceiling(b,50));


                }
            }
        }




        function calculate_localiter_second(v){


            var rub =  $('#check:checked').attr("value").split('|');




            var base       =  parseInt($('input[id=base]').val());
            var local      =  parseInt($('input[id=local]').val());
            var rub1       =  parseInt($('input[id=rub1]').val());
            var rub2       =  parseInt($('input[id=rub2]').val());
            var rub3       =  parseInt($('input[id=rub3]').val());
            var localiter  =  parseInt($('input[id=localiter_supp]').val());


            if (rub[1]=='RU1'){

                if(v=='1'){
                    var b =0;
                    b = local + rub1;
                    b = b * 0.5 ;
                    b = localiter + b;
                    $('input[id=localiter_supp]').val(ceiling(b,50));

                }

                if(v=='2'){
                    var b =0;
                    b =  ((local + rub1)* 0.8);
                    b = b * 0.5 ;
                    b = localiter + b;
                    $('input[id=localiter_supp]').val(ceiling(b,50));

                }
                if(v=='3'){
                    var b =0;
                    b =  ((local + rub1)* 0.6);
                    b = b * 0.5 ;
                    b = localiter + b;
                    $('input[id=localiter_supp]').val(ceiling(b,50));

                }
                if(v=='4'){
                    var b =0;
                    b =   ((local + rub1)* 0.4);
                    b = b * 0.5 ;
                    b = localiter + b;
                    $('input[id=localiter_supp]').val(ceiling(b,50));

                }
                if(v=='5'){
                    var b =0;
                    b =  ((local + rub1)* 0.3);
                    b = b * 0.5 ;
                    b = localiter + b;
                    $('input[id=localiter_supp]').val(ceiling(b,50));


                }

            }
            if (rub[1]=='RU2'){


                if(v=='1'){
                    var b =0;
                    b =  ((local)+ ((rub2)));
                    b = b * 0.5 ;
                    b = localiter + b;
                    $('input[id=localiter_supp]').val(ceiling(b,50));

                }

                if(v=='2'){
                    var b =0;
                    b =  ((local * 0.8)+ ((rub2* 0.8)));
                    b = b * 0.5 ;
                    b = localiter + b;
                    $('input[id=localiter_supp]').val(ceiling(b,50));

                }
                if(v=='3'){
                    var b =0;
                    b =  ((local * 0.6)+ ((rub2* 0.6) ));
                    b = b * 0.5 ;
                    b = localiter + b;
                    $('input[id=localiter_supp]').val(ceiling(b,50));

                }
                if(v=='4'){
                    var b =0;
                    b =   ((local * 0.4)+ ((rub2* 0.4) ));
                    b = b * 0.5 ;
                    b = localiter + b;
                    $('input[id=localiter_supp]').val(ceiling(b,50));

                }
                if(v=='5'){
                    var b =0;
                    b =  ((local * 0.3)+ ((rub2* 0.3) ));
                    b = b * 0.5 ;
                    b = localiter + b;
                    $('input[id=localiter_supp]').val(ceiling(b,50));


                }

            }
            if (rub[1]=='RU3'){

                if(v=='1'){
                    var b =0;
                    b =  ((local)+ ((rub3)));
                    b = b * 0.5 ;
                    b = localiter + b;
                    $('input[id=localiter_supp]').val(ceiling(b,50));

                }

                if(v=='2'){
                    var b =0;

                    b = ((local * 0.8)+ ((rub3 *  0.8) ));
                    b = b * 0.5 ;

                    b = localiter + b;
                    $('input[id=localiter_supp]').val(ceiling(b,50));

                }
                if(v=='3'){
                    var b =0;
                    b = ((local * 0.6)+((rub3* 0.6) ));
                    b = b * 0.5 ;
                    b = localiter + b;
                    $('input[id=localiter_supp]').val(ceiling(b,50));

                }
                if(v=='4'){
                    var b =0;
                    b =  ((local * 0.4)+ ((rub3* 0.4)));
                    b = b * 0.5 ;
                    b = localiter + b;
                    $('input[id=localiter_supp]').val(ceiling(b,50));

                }
                if(v=='5'){
                    var b =0;
                    b =  ((local * 0.3)+ ((rub3* 0.3) ));
                    b = b * 0.5 ;
                    b = localiter + b;
                    $('input[id=localiter_supp]').val(ceiling(b,50));


                }
            }
        }







        function calculate_localiter_second_not(v){


            var rub =  $('#check:checked').attr("value").split('|');




            var base       =  parseInt($('input[id=base]').val());
            var local      =  parseInt($('input[id=local]').val());
            var rub1       =  parseInt($('input[id=rub1]').val());
            var rub2       =  parseInt($('input[id=rub2]').val());
            var rub3       =  parseInt($('input[id=rub3]').val());
            var localiter  =  parseInt($('input[id=localiter_supp]').val());


            if (rub[1]=='RU1'){

                if(v=='1'){
                    var b =0;
                    b =  local + rub1;
                    b = b * 0.5 ;
                    b = localiter - ceiling(b,50);
                    $('input[id=localiter_supp]').val(ceiling(b,50));

                }

                if(v=='2'){
                    var b =0;
                    b =   ((local + rub1)* 0.8);
                    b = b * 0.5 ;

                    b = localiter - ceiling(b,50);
                    $('input[id=localiter_supp]').val(ceiling(b,50));

                }
                if(v=='3'){
                    var b =0;
                    b =   ((local + rub1)* 0.6);
                    b = b * 0.5 ;
                    b = localiter - ceiling(b,50);
                    $('input[id=localiter_supp]').val(ceiling(b,50));

                }
                if(v=='4'){
                    var b =0;
                    b =  ((local + rub1)* 0.4);
                    b = b * 0.5 ;
                    b = localiter - ceiling(b,50);
                    $('input[id=localiter_supp]').val(ceiling(b,50));

                }
                if(v=='5'){
                    var b =0;
                    b =   ((local + rub1)* 0.3);
                    b = b * 0.5 ;
                    b = localiter - ceiling(b,50);
                    $('input[id=localiter_supp]').val(ceiling(b,50));


                }

            }
            if (rub[1]=='RU2'){


                if(v=='1'){
                    var b =0;
                    b =  ((local)+ ((rub2)));
                    b = b * 0.5 ;
                    b = localiter - ceiling(b,50);
                    $('input[id=localiter_supp]').val(ceiling(b,50));

                }

                if(v=='2'){
                    var b =0;
                    b =   ((local * 0.8)+ ((rub2* 0.8) ));
                    b = b * 0.5 ;
                    b = localiter - ceiling(b,50);
                    $('input[id=localiter_supp]').val(ceiling(b,50));

                }
                if(v=='3'){
                    var b =0;
                    b =   ((local * 0.6)+ ((rub2* 0.6) ));
                    b = b * 0.5 ;
                    b = localiter - ceiling(b,50);
                    $('input[id=localiter_supp]').val(ceiling(b,50));

                }
                if(v=='4'){
                    var b =0;
                    b =   ((local * 0.4)+ ((rub2* 0.4) ));
                    b = b * 0.5 ;
                    b = localiter - ceiling(b,50);
                    $('input[id=localiter_supp]').val(ceiling(b,50));

                }
                if(v=='5'){
                    var b =0;
                    b =   ((local * 0.3)+ ((rub2* 0.3) ));
                    b = b * 0.5 ;
                    b = localiter - ceiling(b,50);
                    $('input[id=localiter_supp]').val(ceiling(b,50));


                }

            }
            if (rub[1]=='RU3'){

                if(v=='1'){

                    var b =0;

                    b =  ((local)+ ((rub3 )));

                    b = b * 0.5 ;

                    b = localiter - ceiling(b,50);

                    $('input[id=localiter_supp]').val(ceiling(b,50));

                }

                if(v=='2'){
                    var b =0;

                    b =  ((local * 0.8)+ ((rub3*  0.8)));
                    b = b * 0.5 ;

                    b = localiter - ceiling(b,50);
                    $('input[id=localiter_supp]').val(ceiling(b,50));

                }
                if(v=='3'){
                    var b =0;
                    b =   ((local * 0.6)+((rub3* 0.6)));
                    b = b * 0.5 ;
                    b = localiter - ceiling(b,50);
                    $('input[id=localiter_supp]').val(ceiling(b,50));

                }
                if(v=='4'){
                    var b =0;
                    b =  ((local * 0.4)+ ((rub3* 0.4) ));
                    b = b * 0.5 ;
                    b = localiter - ceiling(b,50);
                    $('input[id=localiter_supp]').val(ceiling(b,50));

                }
                if(v=='5'){
                    var b =0;
                    b =  ((local * 0.3)+ ((rub3* 0.3) ));
                    b = b * 0.5 ;
                    b = localiter - ceiling(b,50);
                    $('input[id=localiter_supp]').val(ceiling(b,50));


                }
            }
        }










        function calculate_localiter_second_r2(v,k){


            var rub =  $('#check'+k+':checked').attr("value").split('|');




            var base       =  parseInt($('input[id=base]').val());
            var local      =  parseInt($('input[id=local]').val());
            var rub1       =  parseInt($('input[id=rub1]').val());
            var rub2       =  parseInt($('input[id=rub2]').val());
            var rub3       =  parseInt($('input[id=rub3]').val());
            var localiter  =  parseInt($('input[id=localiter_supp'+k+']').val());


            if (rub[1]=='RU1'){

                if(v=='1'){
                    var b =0;
                    b = local + rub1;
                    b = b * 0.5 ;
                    b = localiter + b;
                    $('input[id=localiter_supp'+k+']').val(ceiling(b,50));

                }

                if(v=='2'){
                    var b =0;
                    b =  ((local + rub1)* 0.8);
                    b = b * 0.5 ;
                    b = localiter + b;
                    $('input[id=localiter_supp'+k+']').val(ceiling(b,50));

                }
                if(v=='3'){
                    var b =0;
                    b =  ((local + rub1)* 0.6);
                    b = b * 0.5 ;
                    b = localiter + b;
                    $('input[id=localiter_supp'+k+']').val(ceiling(b,50));

                }
                if(v=='4'){
                    var b =0;
                    b =   ((local + rub1)* 0.4);
                    b = b * 0.5 ;
                    b = localiter + b;
                    $('input[id=localiter_supp'+k+']').val(ceiling(b,50));

                }
                if(v=='5'){
                    var b =0;
                    b =  ((local + rub1)* 0.3);
                    b = b * 0.5 ;
                    b = localiter + b;
                    $('input[id=localiter_supp'+k+']').val(ceiling(b,50));


                }

            }
            if (rub[1]=='RU2'){


                if(v=='1'){
                    var b =0;
                    b =  ((local)+ ((rub2)));
                    b = b * 0.5 ;
                    b = localiter + b;
                    $('input[id=localiter_supp'+k+']').val(ceiling(b,50));

                }

                if(v=='2'){
                    var b =0;
                    b =  ((local * 0.8)+ ((rub2* 0.8) ));
                    b = b * 0.5 ;
                    b = localiter + b;
                    $('input[id=localiter_supp'+k+']').val(ceiling(b,50));

                }
                if(v=='3'){
                    var b =0;
                    b =  ((local * 0.6)+ ((rub2* 0.6)));
                    b = b * 0.5 ;
                    b = localiter + b;
                    $('input[id=localiter_supp'+k+']').val(ceiling(b,50));

                }
                if(v=='4'){
                    var b =0;
                    b =   ((local * 0.4)+ ((rub2* 0.4)));
                    b = b * 0.5 ;
                    b = localiter + b;
                    $('input[id=localiter_supp'+k+']').val(ceiling(b,50));

                }
                if(v=='5'){
                    var b =0;
                    b =  ((local * 0.3)+ ((rub2* 0.3) ));
                    b = b * 0.5 ;
                    b = localiter + b;
                    $('input[id=localiter_supp'+k+']').val(ceiling(b,50));


                }

            }
            if (rub[1]=='RU3'){

                if(v=='1'){
                    var b =0;
                    b =  ((local)+ ((rub3)));
                    b = b * 0.5 ;
                    b = localiter + b;
                    $('input[id=localiter_supp'+k+']').val(ceiling(b,50));

                }

                if(v=='2'){
                    var b =0;

                    b = ((local * 0.8)+ ((rub3*  0.8)));
                    b = b * 0.5 ;

                    b = localiter + b;
                    $('input[id=localiter_supp'+k+']').val(ceiling(b,50));

                }
                if(v=='3'){
                    var b =0;
                    b = ((local * 0.6)+((rub3* 0.6) ));
                    b = b * 0.5 ;
                    b = localiter + b;
                    $('input[id=localiter_supp'+k+']').val(ceiling(b,50));

                }
                if(v=='4'){
                    var b =0;
                    b =  ((local * 0.4)+ ((rub3* 0.4) ));
                    b = b * 0.5 ;
                    b = localiter + b;
                    $('input[id=localiter_supp'+k+']').val(ceiling(b,50));

                }
                if(v=='5'){
                    var b =0;
                    b =  ((local * 0.3)+ ((rub3* 0.3)));
                    b = b * 0.5 ;
                    b = localiter + b;
                    $('input[id=localiter_supp'+k+']').val(ceiling(b,50));


                }
            }
        }







        function calculate_localiter_second_not_r2(v,k){


            var rub =  $('#check'+k+':checked').attr("value").split('|');




            var base       =  parseInt($('input[id=base]').val());
            var local      =  parseInt($('input[id=local]').val());
            var rub1       =  parseInt($('input[id=rub1]').val());
            var rub2       =  parseInt($('input[id=rub2]').val());
            var rub3       =  parseInt($('input[id=rub3]').val());
            var localiter  =  parseInt($('input[id=localiter_supp'+k+']').val());


            if (rub[1]=='RU1'){

                if(v=='1'){
                    var b =0;
                    b =  local + rub1;
                    b = b * 0.5 ;
                    b = localiter - ceiling(b,50);
                    $('input[id=localiter_supp'+k+']').val(ceiling(b,50));

                }

                if(v=='2'){
                    var b =0;
                    b =   ((local + rub1)* 0.8);
                    b = b * 0.5 ;

                    b = localiter - ceiling(b,50);
                    $('input[id=localiter_supp'+k+']').val(ceiling(b,50));

                }
                if(v=='3'){
                    var b =0;
                    b =   ((local + rub1)* 0.6);
                    b = b * 0.5 ;
                    b = localiter - ceiling(b,50);
                    $('input[id=localiter_supp'+k+']').val(ceiling(b,50));

                }
                if(v=='4'){
                    var b =0;
                    b =  ((local + rub1)* 0.4);
                    b = b * 0.5 ;
                    b = localiter - ceiling(b,50);
                    $('input[id=localiter_supp'+k+']').val(ceiling(b,50));

                }
                if(v=='5'){
                    var b =0;
                    b =   ((local + rub1)* 0.3);
                    b = b * 0.5 ;
                    b = localiter - ceiling(b,50);
                    $('input[id=localiter_supp'+k+']').val(ceiling(b,50));


                }

            }
            if (rub[1]=='RU2'){


                if(v=='1'){
                    var b =0;
                    b =  ((local)+ ((rub2)));
                    b = b * 0.5 ;
                    b = localiter - ceiling(b,50);
                    $('input[id=localiter_supp'+k+']').val(ceiling(b,50));

                }

                if(v=='2'){
                    var b =0;
                    b =   ((local * 0.8)+ ((rub2* 0.8)));
                    b = b * 0.5 ;
                    b = localiter - ceiling(b,50);
                    $('input[id=localiter_supp'+k+']').val(ceiling(b,50));

                }
                if(v=='3'){
                    var b =0;
                    b =   ((local * 0.6)+ ((rub2* 0.6)));
                    b = b * 0.5 ;
                    b = localiter - ceiling(b,50);
                    $('input[id=localiter_supp'+k+']').val(ceiling(b,50));

                }
                if(v=='4'){
                    var b =0;
                    b =   ((local * 0.4)+ ((rub2* 0.4) ));
                    b = b * 0.5 ;
                    b = localiter - ceiling(b,50);
                    $('input[id=localiter_supp'+k+']').val(ceiling(b,50));

                }
                if(v=='5'){
                    var b =0;
                    b =   ((local * 0.3)+ ((rub2* 0.3)));
                    b = b * 0.5 ;
                    b = localiter - ceiling(b,50);
                    $('input[id=localiter_supp'+k+']').val(ceiling(b,50));


                }

            }
            if (rub[1]=='RU3'){

                if(v=='1'){

                    var b =0;

                    b =  ((local)+ ((rub3 )));

                    b = b * 0.5 ;

                    b = localiter - ceiling(b,50);

                    $('input[id=localiter_supp'+k+']').val(ceiling(b,50));

                }

                if(v=='2'){
                    var b =0;

                    b =  ((local * 0.8)+ ((rub3*  0.8)));
                    b = b * 0.5 ;

                    b = localiter - ceiling(b,50);
                    $('input[id=localiter_supp'+k+']').val(ceiling(b,50));

                }
                if(v=='3'){
                    var b =0;
                    b =   ((local * 0.6)+((rub3* 0.6)));
                    b = b * 0.5 ;
                    b = localiter - ceiling(b,50);
                    $('input[id=localiter_supp'+k+']').val(ceiling(b,50));

                }
                if(v=='4'){
                    var b =0;
                    b =  ((local * 0.4)+ ((rub3* 0.4)));
                    b = b * 0.5 ;
                    b = localiter - ceiling(b,50);
                    $('input[id=localiter_supp'+k+']').val(ceiling(b,50));

                }
                if(v=='5'){
                    var b =0;
                    b =  ((local * 0.3)+ ((rub3* 0.3) ));
                    b = b * 0.5 ;
                    b = localiter - ceiling(b,50);
                    $('input[id=localiter_supp'+k+']').val(ceiling(b,50));


                }
            }
        }

        $("#num1,#num2").on("keydown keyup change load ", function()  {

            var sum = parseInt($('input[name=sum]').val());
            var num2 = parseInt($('input[name=num2]').val());
            var nbr_prestattion = Math.ceil(parseInt(sum+num2));
            document.getElementById("nbr_prestattion").value = nbr_prestattion ;

        });
        $("#num1").on("keydown keyup change load  ", function() {
            var num1 = $("#num1").val();
            document.getElementById('nbr_rubrique').value = num1;
            if (num1 == 0) {
                $("#rubrique").show();
                $("#select_rub_prest").hide();
                $("#select_rub_prest1").hide();
                $("#select_rub_prest2").hide();
                $("#select_rub_prest3").hide();
                $("#select_rub_prest4").hide();
                $("#select_rub_prest5").hide();
                $("#select_rub_prest6").hide();
                $('.r,.r1,.r2,.r3,.r4,.r5,.r6,.prest1,.prest2,.prest3,.prest4,.prest5,.prest6,.prest7').prop('checked', false);

            }
            else
            if(num1==1)
            {
                $("#rubrique").show();
                $("#select_rub_prest").show();
                $("#select_rub_prest1").hide();
                $("#select_rub_prest2").hide();
                $("#select_rub_prest3").hide();
                $("#select_rub_prest4").hide();
                $("#select_rub_prest5").hide();
                $("#select_rub_prest6").hide();

                $('.r1,.r2,.r3,.r4,.r5,.r6,.prest2,.prest3,.prest4,.prest5,.prest6,.prest7').prop('checked', false);
            }
            else
            if(num1==2)
            {
                $("#rubrique").show();
                $("#select_rub_prest").show();
                $("#select_rub_prest1").show();
                $("#select_rub_prest2").hide();
                $("#select_rub_prest3").hide();
                $("#select_rub_prest4").hide();
                $("#select_rub_prest5").hide();
                $("#select_rub_prest6").hide();


                $('.r2,.r3,.r4,.r5,.r6,.prest3,.prest4,.prest5,.prest6,.prest7').prop('checked', false);
            }
            else
            if(num1==3)
            {
                $("#rubrique").show();
                $("#select_rub_prest").show();
                $("#select_rub_prest1").show();
                $("#select_rub_prest2").show();
                $("#select_rub_prest3").hide();
                $("#select_rub_prest4").hide();
                $("#select_rub_prest5").hide();
                $("#select_rub_prest6").hide();



                $('.r3,.r4,.r5,.r6,.prest4,.prest5,.prest6,.prest7').prop('checked', false);
            }
            else
            if(num1==4)
            {
                $("#rubrique").show();
                $("#select_rub_prest").show();
                $("#select_rub_prest1").show();
                $("#select_rub_prest2").show();
                $("#select_rub_prest3").show();
                $("#select_rub_prest4").hide();
                $("#select_rub_prest5").hide();
                $("#select_rub_prest6").hide();

                $('.r4,.r5,.r6,.prest5,.prest6,.prest7').prop('checked', false);
            }
            else
            if(num1==5)
            {
                $("#rubrique").show();
                $("#select_rub_prest").show();
                $("#select_rub_prest1").show();
                $("#select_rub_prest2").show();
                $("#select_rub_prest3").show();
                $("#select_rub_prest4").show();
                $("#select_rub_prest5").hide();
                $("#select_rub_prest6").hide();
                $('.r5,.r6,.prest6,.prest7').prop('checked', false);


            }
            else
            if(num1==6)
            {
                $("#rubrique").show();
                $("#select_rub_prest").show();
                $("#select_rub_prest1").show();
                $("#select_rub_prest2").show();
                $("#select_rub_prest3").show();
                $("#select_rub_prest4").show();
                $("#select_rub_prest4").show();
                $("#select_rub_prest5").show();
                $("#select_rub_prest6").hide();
                $('.r6,.prest7').prop('checked', false);
            }
            else
            if(num1==7)
            {
                $("#rubrique").show();
                $("#select_rub_prest").show();
                $("#select_rub_prest1").show();
                $("#select_rub_prest2").show();
                $("#select_rub_prest3").show();
                $("#select_rub_prest4").show();
                $("#select_rub_prest4").show();
                $("#select_rub_prest5").show();
                $("#select_rub_prest6").show();
            }
            $('.loaders').css('display','');
            var nbr_rub =$('input[name=num1]').val();
            /*alert(nbr_rub)*/
            var data_send  = {'nbr_rub':nbr_rub};
            $.ajax({
                url: '{{ path('referencement_commande_devis_des_rub_nbr_rub') }}',
                type: 'POST',
                data: data_send,
                statusCode: {
                    //traitement en cas de succès
                    200: function (response) {
                        var successMessage = response;

                        console.log(successMessage);
                        /*  $('#prestation').children("option").remove();*/
                        //on vide les champs formulaires ou on le supprime ou ...
                        //on retire le loader...
                        //window.location.href = "http://localhost/ecommerce/web/app_dev.php/devis_affichage";

                        $('.loaders').css('display','none');
                    },
                    //traitement en cas d'erreur (on peut aussi traiter le cas erreur 500...)
                    412: function (response) {
                        var errorsForm = response.responseJSON.formErrors;
                        //on affiche les erreurs...
                        alert('error');
                    }
                }
            });
            /*else
             {
             $("#rubrique").show();
             $("#select_rub_prest").show();
             $("#select_rub_prest1").show();
             }*/

            $('#prestaAjax').css('display','');
            if($('.region').is(':checked')){
                Reg();
                $('#prestaAjax').css('display','none');
            }
            else if('.my-activitys') {
                rub();
                $('#prestaAjax').css('display','none');
            }
            else{
                $('input[id=rubd]').val(0);
            }
            var num1 = document.getElementById('num1').value;
            var result = parseInt(num1) * 3;
            document.getElementById('sum').value = result;
            cal();
            kas();

        });

/*        $("#num1").on("keydown keyup change load  ", function() {
            var num1 = $("#num1").val();
            document.getElementById('nbr_rubrique').value = num1;
            if (num1 == 0) {
                $("#rubrique").show();
                $("#select_rub_prest").hide();
                $("#select_rub_prest1").hide();
                $("#select_rub_prest2").hide();
                $("#select_rub_prest3").hide();
                $("#select_rub_prest4").hide();
                $("#select_rub_prest5").hide();
                $("#select_rub_prest6").hide();
                $('.r,.r1,.r2,.r3,.r4,.r5,.r6,.prest1,.prest2,.prest3,.prest4,.prest5,.prest6,.prest7').prop('checked', false);

            }
            else if (num1 == 1) {
                $("#rubrique").show();
                $("#select_rub_prest").show();
                $("#select_rub_prest1").hide();
                $("#select_rub_prest2").hide();
                $("#select_rub_prest3").hide();
                $("#select_rub_prest4").hide();
                $("#select_rub_prest5").hide();
                $("#select_rub_prest6").hide();

                $('.r1,.r2,.r3,.r4,.r5,.r6,.prest2,.prest3,.prest4,.prest5,.prest6,.prest7').prop('checked', false);
            }
            else if (num1 == 2) {
                $("#rubrique").show();
                $("#select_rub_prest").show();
                $("#select_rub_prest1").show();
                $("#select_rub_prest2").hide();
                $("#select_rub_prest3").hide();
                $("#select_rub_prest4").hide();
                $("#select_rub_prest5").hide();
                $("#select_rub_prest6").hide();


                $('.r2,.r3,.r4,.r5,.r6,.prest3,.prest4,.prest5,.prest6,.prest7').prop('checked', false);
            }
            else if (num1 == 3) {
                $("#rubrique").show();
                $("#select_rub_prest").show();
                $("#select_rub_prest1").show();
                $("#select_rub_prest2").show();
                $("#select_rub_prest3").hide();
                $("#select_rub_prest4").hide();
                $("#select_rub_prest5").hide();
                $("#select_rub_prest6").hide();


                $('.r3,.r4,.r5,.r6,.prest4,.prest5,.prest6,.prest7').prop('checked', false);
            }
            else if (num1 == 4) {
                $("#rubrique").show();
                $("#select_rub_prest").show();
                $("#select_rub_prest1").show();
                $("#select_rub_prest2").show();
                $("#select_rub_prest3").show();
                $("#select_rub_prest4").hide();
                $("#select_rub_prest5").hide();
                $("#select_rub_prest6").hide();

                $('.r4,.r5,.r6,.prest5,.prest6,.prest7').prop('checked', false);
            }
            else if (num1 == 5) {
                $("#rubrique").show();
                $("#select_rub_prest").show();
                $("#select_rub_prest1").show();
                $("#select_rub_prest2").show();
                $("#select_rub_prest3").show();
                $("#select_rub_prest4").show();
                $("#select_rub_prest5").hide();
                $("#select_rub_prest6").hide();
                $('.r5,.r6,.prest6,.prest7').prop('checked', false);


            }
            else if (num1 == 6) {
                $("#rubrique").show();
                $("#select_rub_prest").show();
                $("#select_rub_prest1").show();
                $("#select_rub_prest2").show();
                $("#select_rub_prest3").show();
                $("#select_rub_prest4").show();
                $("#select_rub_prest4").show();
                $("#select_rub_prest5").show();
                $("#select_rub_prest6").hide();
                $('.r6,.prest7').prop('checked', false);
            }
            else if (num1 == 7) {
                $("#rubrique").show();
                $("#select_rub_prest").show();
                $("#select_rub_prest1").show();
                $("#select_rub_prest2").show();
                $("#select_rub_prest3").show();
                $("#select_rub_prest4").show();
                $("#select_rub_prest4").show();
                $("#select_rub_prest5").show();
                $("#select_rub_prest6").show();
            }
        });*/




        $(".ville1  input[name='villes1']").on('change',function() {


            if(($(".ville1 input[name='villes1']").is(":checked")))
            {


                $('.ville1').not(this).prop('disabled', this.checked);
                $(".ville1 input[name='villes1']:disabled").css('display', 'none');
                $(".ville1 input[name='villes1']:disabled + h7 ").css('display', 'none');
                $(".ville1 input[name='villes1']").css('float', 'left');
                $(".ville1 input[name='villes1']").css('clear', 'left');
                /*$('.r').css("position", "absolute");
                 $('.r').css("margin-top", "auto");
                 $('.r').css("margin-bottom", "auto");
                 $('.r').css("top", -8);
                 $('.r').css("bottom", 0);*/
                $('.label_rub').css("margin-left", 21);


            }
            else
            if ($(".ville1 input[name='villes1']").prop('checked', false))
            {
                $(".ville1 input[name='villes1']").css("position", "absolute");
                $(".ville1 input[name='villes1']:disabled").css('display', '');
                $(".ville1 input[name='villes1']:disabled + h7").css('display', '');
                $('.label_rub').css("margin-left", 18);


            }
        });

        $(".ville1 input[name='villes1']").on('change  ',function() {
            $(".ville1 input[name='villes1']").not(this).prop('disabled', this.checked);
        });


        $(window).load(function() {

            if(($(".ville1 input[name='villes1']").is(":checked"))) {
                $(".ville1 input[name='villes1']").prop('disabled', true);
                $(".ville1 input[name='villes1']:checked").removeAttr('disabled');
                $(".ville1 input[name='villes1']:disabled").css('display', 'none');
                $(".ville1 input[name='villes1']:disabled + h7").css('display', 'none');
            }
            else
            if ($(".ville1 input[name='villes1']").prop('checked', false)) {
                $(".ville1 input[name='villes1']").prop('disabled', false);
                $(".ville1 input[name='villes1']:checked").removeAttr('disabled');
                $(".ville1 input[name='villes1']:disabled").css('display', '');
                $(".ville1 input[name='villes1']:disabled + h7").css('display', '');
            }
        });





        $(".ville input[name='villes']").on('change  ',function() {

            if(($(".ville input[name='villes']").is(":checked")))
            {

                $('.ville').not(this).prop('disabled', this.checked);
                $(".ville input[name='villes']:disabled").css('display', 'none!important');
                $(".ville input[name='villes']:disabled + h7 ").css('display', 'none');
                $(".ville input[name='villes']").css('float', 'left');
                $(".ville input[name='villes']").css('clear', 'left');
                /*$('.r').css("position", "absolute");
                 $('.r').css("margin-top", "auto");
                 $('.r').css("margin-bottom", "auto");
                 $('.r').css("top", -8);
                 $('.r').css("bottom", 0);*/
                $('.label_rub').css("margin-left", 21);
            }else
            if ($(".ville input[name='villes']").prop('checked', false))
            {
                $(".ville input[name='villes']").css("position", "absolute");
                $(".ville input[name='villes']:disabled").css('display', '');
                $(".ville input[name='villes']:disabled + h7").css('display', '');
                $('.label_rub').css("margin-left", 18);
            }
        });

        $(".ville input[name='villes']").on('change  ',function() {
            $(".ville input[name='villes']").not(this).prop('disabled', this.checked);
        });
        $(window).load(function() {

            if(($(".ville input[name='villes']").is(":checked"))) {
                $(".ville input[name='villes']").prop('disabled', true);
                $(".ville input[name='villes']:checked").removeAttr('disabled');
                $(".ville input[name='villes']:disabled").css('display', 'none');
                $(".ville input[name='villes']:disabled + h7").css('display', 'none');
            }
            else
            if ($(".ville input[name='villes']").prop('checked', false)) {
                $(".ville input[name='villes']").prop('disabled', false);
                $(".ville input[name='villes']:checked").removeAttr('disabled');
                $(".ville input[name='villes']:disabled").css('display', '');
                $(".ville input[name='villes']:disabled + h7").css('display', '');
            }
        });


        $(".r input[name='check']").on('change  ',function() {

            if(($(".r input[name='check']").is(":checked")))
            {
                $('.r').not(this).prop('disabled', this.checked);
                $(".r input[name='check']:disabled").css('display', 'none');
                $(".r input[name='check']:disabled + h7 ").css('display', 'none');
                $(".r input[name='check']").css('float', 'left');
                $(".r input[name='check']").css('clear', 'left');
                /*$('.r').css("position", "absolute");
                 $('.r').css("margin-top", "auto");
                 $('.r').css("margin-bottom", "auto");
                 $('.r').css("top", -8);
                 $('.r').css("bottom", 0);*/
                $('.label_rub').css("margin-left", 21);
            }else
            if ($(".r input[name='check']").prop('checked', false))
            {
                $(".r input[name='check']").css("position", "absolute");
                $(".r input[name='check']:disabled").css('display', '');
                $(".r input[name='check']:disabled + h7").css('display', '');
                $('.label_rub').css("margin-left", 18);
            }
        });



        $(".r input[name='check']").on('change  ',function() {
            $(".r input[name='check']").not(this).prop('disabled', this.checked);
        });
        $(window).load(function() {

            if(($(".r input[name='check']").is(":checked"))) {
                $(".r input[name='check']").prop('disabled', true);
                $(".r input[name='check']:checked").removeAttr('disabled');
                $(".r input[name='check']:disabled").css('display', 'none');
                $(".r input[name='check']:disabled + h7").css('display', 'none');
            }
            else
            if ($(".r input[name='check']").prop('checked', false)) {
                $(".r input[name='check']").prop('disabled', false);
                $(".r input[name='check']:checked").removeAttr('disabled');
                $(".r input[name='check']:disabled").css('display', '');
                $(".r input[name='check']:disabled + h7").css('display', '');
            }
        });
        /*---------------------------------------------------------------------------*/

        $(".r1 input[name='check1']").on('change  ',function() {

            if(($(".r1 input[name='check1']").is(":checked")))
            {
                $('.r1').not(this).prop('disabled', this.checked);
                $(".r1 input[name='check1']:disabled").css('display', 'none');
                $(".r1 input[name='check1']:disabled + h7 ").css('display', 'none');
                $(".r1 input[name='check1']").css('float', 'left');
                $(".r1 input[name='check1']").css('clear', 'left');
                $('.label_rub').css("margin-left", 21);
            }else
            if ($(".r1 input[name='check1']").prop('checked', false))
            {
                $(".r1 input[name='check1']").css("position", "absolute");
                $(".r1 input[name='check1']:disabled").css('display', '');
                $(".r1 input[name='check1']:disabled + h7").css('display', '');
                $('.label_rub').css("margin-left", 18);
            }
        });

        $(".r1 input[name='check1']").on('change  ',function() {
            $(".r1 input[name='check1']").not(this).prop('disabled', this.checked);
        });
        $(window).load(function() {

            if(($(".r1 [name='check1']").is(":checked"))) {
                $(".r1 input[name='check1']").prop('disabled', true);
                $(".r1 input[name='check1']:checked").removeAttr('disabled');
                $(".r1 input[name='check1']:disabled").css('display', 'none');
                $(".r1 input[name='check1']:disabled + h7").css('display', 'none');
            }
            else
            if ($(".r1[name='check1']").prop('checked', false)) {
                $(".r1 input[name='check1']").prop('disabled', false);
                $(".r1 input[name='check1']:checked").removeAttr('disabled');
                $(".r1 input[name='check1']:disabled").css('display', '');
                $(".r1 input[name='check1']:disabled + h7").css('display', '');
            }
        });
        /*---------------------------------------------------------------------------*/

        $(".r2 input[name='check2']").on('change  ',function() {

            if(($(".r2 input[name='check2']").is(":checked")))
            {
                $('.r2').not(this).prop('disabled', this.checked);
                $(".r2 input[name='check2']:disabled").css('display', 'none');
                $(".r2 input[name='check2']:disabled + h7 ").css('display', 'none');
                $(".r2 input[name='check2']").css('float', 'left');
                $(".r2 input[name='check2']").css('clear', 'left');
                $('.label_rub').css("margin-left", 21);
            }else
            if ($(".r2 input[name='check2']").prop('checked', false))
            {
                $(".r2 input[name='check2']").css("position", "absolute");
                $(".r2 input[name='check2']:disabled").css('display', '');
                $(".r2 input[name='check2']:disabled + h7").css('display', '');
                $('.label_rub').css("margin-left", 18);
            }
        });

        $(".r2 input[name='check2']").on('change  ',function() {
            $(".r2 input[name='check2']").not(this).prop('disabled', this.checked);
        });
        $(window).load(function() {

            if(($(".r2 [name='check2']").is(":checked"))) {
                $(".r2 input[name='check2']").prop('disabled', true);
                $(".r2 input[name='check2']:checked").removeAttr('disabled');
                $(".r2 input[name='check2']:disabled").css('display', 'none');
                $(".r2 input[name='check2']:disabled + h7").css('display', 'none');
            }
            else
            if ($(".r2 [name='check2']").prop('checked', false)) {
                $(".r2 input[name='check2']").prop('disabled', false);
                $(".r1 input[name='check2']:checked").removeAttr('disabled');
                $(".r2 input[name='check2']:disabled").css('display', '');
                $(".r2 input[name='check2']:disabled + h7").css('display', '');
            }
        });

        /*---------------------------------------------------------------------------*/

        $(".r3 input[name='check3']").on('change  ',function() {

            if(($(".r3 input[name='check3']").is(":checked")))
            {
                $('.r3').not(this).prop('disabled', this.checked);
                $(".r3 input[name='check3']:disabled").css('display', 'none');
                $(".r3 input[name='check3']:disabled + h7 ").css('display', 'none');
                $(".r3 input[name='check3']").css('float', 'left');
                $(".r3 input[name='check3']").css('clear', 'left');
                $('.label_rub').css("margin-left", 21);
            }else
            if ($(".r3 input[name='check3']").prop('checked', false))
            {
                $(".r3 input[name='check3']").css("position", "absolute");
                $(".r3 input[name='check3']:disabled").css('display', '');
                $(".r3 input[name='check3']:disabled + h7").css('display', '');
                $('.label_rub').css("margin-left", 18);
            }
        });

        $(".r3 input[name='check3']").on('change  ',function() {
            $(".r3 input[name='check3']").not(this).prop('disabled', this.checked);
        });
        $(window).load(function() {

            if(($(".r3 [name='check3']").is(":checked"))) {
                $(".r3 input[name='check3']").prop('disabled', true);
                $(".r3 input[name='check3']:checked").removeAttr('disabled');
                $(".r3 input[name='check3']:disabled").css('display', 'none');
                $(".r3 input[name='check3']:disabled + h7").css('display', 'none');
            }
            else
            if ($(".r3 [name='check3']").prop('checked', false)) {
                $(".r2 input[name='check2']").prop('disabled', false);
                $(".r3 input[name='check3']:checked").removeAttr('disabled');
                $(".r3 input[name='check3']:disabled").css('display', '');
                $(".r3 input[name='check3']:disabled + h7").css('display', '');
            }
        });

        /*---------------------------------------------------------------------------*/

        $(".r4 input[name='check4']").on('change  ',function() {

            if(($(".r4 input[name='check4']").is(":checked")))
            {
                $('.r4').not(this).prop('disabled', this.checked);
                $(".r4 input[name='check4']:disabled").css('display', 'none');
                $(".r4 input[name='check4']:disabled + h7 ").css('display', 'none');
                $(".r4 input[name='check4']").css('float', 'left');
                $(".r4 input[name='check4']").css('clear', 'left');
                $('.label_rub').css("margin-left", 21);
            }else
            if ($(".r4 input[name='check4']").prop('checked', false))
            {
                $(".r4 input[name='check4']").css("position", "absolute");
                $(".r4 input[name='check4']:disabled").css('display', '');
                $(".r4 input[name='check4']:disabled + h7").css('display', '');
                $('.label_rub').css("margin-left", 18);
            }
        });

        $(".r4 input[name='check4']").on('change  ',function() {
            $(".r4 input[name='check4']").not(this).prop('disabled', this.checked);
        });
        $(window).load(function() {

            if(($(".r4 [name='check4']").is(":checked"))) {
                $(".r4 input[name='check4']").prop('disabled', true);
                $(".r4 input[name='check4']:checked").removeAttr('disabled');
                $(".r4 input[name='check4']:disabled").css('display', 'none');
                $(".r4 input[name='check4']:disabled + h7").css('display', 'none');
            }
            else
            if ($(".r4 [name='check4']").prop('checked', false)) {
                $(".r4 input[name='check4']").prop('disabled', false);
                $(".r4 input[name='check4']:checked").removeAttr('disabled');
                $(".r4 input[name='check4']:disabled").css('display', '');
                $(".r4 input[name='check4']:disabled + h7").css('display', '');
            }
        });
        /*---------------------------------------------------------------------------*/

        $(".r5 input[name='check5']").on('change  ',function() {

            if(($(".r5 input[name='check5']").is(":checked")))
            {
                $('.r5').not(this).prop('disabled', this.checked);
                $(".r5 input[name='check5']:disabled").css('display', 'none');
                $(".r5 input[name='check5']:disabled + h7 ").css('display', 'none');
                $(".r5 input[name='check5']").css('float', 'left');
                $(".r5 input[name='check5']").css('clear', 'left');
                $('.label_rub').css("margin-left", 21);
            }else
            if ($(".r5 input[name='check5']").prop('checked', false))
            {
                $(".r5 input[name='check5']").css("position", "absolute");
                $(".r5 input[name='check5']:disabled").css('display', '');
                $(".r5 input[name='check5']:disabled + h7").css('display', '');
                $('.label_rub').css("margin-left", 18);
            }
        });

        $(".r5 input[name='check5']").on('change  ',function() {
            $(".r5 input[name='check5']").not(this).prop('disabled', this.checked);
        });
        $(window).load(function() {

            if(($(".r5 [name='check5']").is(":checked"))) {
                $(".r5 input[name='check5']").prop('disabled', true);
                $(".r5 input[name='check5']:checked").removeAttr('disabled');
                $(".r5 input[name='check5']:disabled").css('display', 'none');
                $(".r5 input[name='check5']:disabled + h7").css('display', 'none');
            }
            else
            if ($(".r5 [name='check5']").prop('checked', false)) {
                $(".r5 input[name='check5']").prop('disabled', false);
                $(".r5 input[name='check5']:checked").removeAttr('disabled');
                $(".r5 input[name='check5']:disabled").css('display', '');
                $(".r5 input[name='check5']:disabled + h7").css('display', '');
            }
        });
        /*---------------------------------------------------------------------------*/

        $(".r6 input[name='check6']").on('change  ',function() {

            if(($(".r6 input[name='check6']").is(":checked")))
            {
                $('.r6').not(this).prop('disabled', this.checked);
                $(".r6 input[name='check6']:disabled").css('display', 'none');
                $(".r6 input[name='check6']:disabled + h7 ").css('display', 'none');
                $(".r6 input[name='check6']").css('float', 'left');
                $(".r6 input[name='check6']").css('clear', 'left');
                $('.label_rub').css("margin-left", 21);
            }else
            if ($(".r6 input[name='check6']").prop('checked', false))
            {
                $(".r6 input[name='check6']").css("position", "absolute");
                $(".r6 input[name='check6']:disabled").css('display', '');
                $(".r6 input[name='check6']:disabled + h7").css('display', '');
                $('.label_rub').css("margin-left", 18);
            }
        });

        $(".r6 input[name='check6']").on('change  ',function() {
            $(".r6 input[name='check6']").not(this).prop('disabled', this.checked);
        });
        $(window).load(function() {

            if(($(".r6 [name='check6']").is(":checked"))) {
                $(".r6 input[name='check6']").prop('disabled', true);
                $(".r6 input[name='check6']:checked").removeAttr('disabled');
                $(".r6 input[name='check6']:disabled").css('display', 'none');
                $(".r6 input[name='check6']:disabled + h7").css('display', 'none');
            }
            else
            if ($(".r6 [name='check6']").prop('checked', false)) {
                $(".r6 input[name='check6']").prop('disabled', false);
                $(".r6 input[name='check6']:checked").removeAttr('disabled');
                $(".r6 input[name='check6']:disabled").css('display', '');
                $(".r6 input[name='check6']:disabled + h7").css('display', '');
            }
        });

        function calculate_rubrique_total(){

            var final            =  parseInt($('input[id=final]').val());
            var rub_supp_1       =  parseInt($('input[id=rub_supp_1]').val());
            var rub_supp_2       =  parseInt($('input[id=rub_supp_2]').val());
            var rub_supp_3       =  parseInt($('input[id=rub_supp_3]').val());
            var rub_supp_4       =  parseInt($('input[id=rub_supp_4]').val());
            var rub_supp_5       =  parseInt($('input[id=rub_supp_5]').val());
            var rub_supp_6       =  parseInt($('input[id=rub_supp_6]').val());
            var rub_supp_7       =  parseInt($('input[id=rub_supp_7]').val());

            var localiter_supp   =  parseInt($('input[id=localiter_supp]').val());
            var localiter_supp1   =  parseInt($('input[id=localiter_supp1]').val());
            var localiter_supp2   =  parseInt($('input[id=localiter_supp2]').val());
            var localiter_supp3   =  parseInt($('input[id=localiter_supp3]').val());
            var localiter_supp4   =  parseInt($('input[id=localiter_supp4]').val());
            var localiter_supp5   =  parseInt($('input[id=localiter_supp5]').val());
            var localiter_supp6   =  parseInt($('input[id=localiter_supp6]').val());
            var localiter_supp7   =  parseInt($('input[id=localiter_supp7]').val());

            var total = final + rub_supp_1 + rub_supp_2 + rub_supp_3 + rub_supp_4 + rub_supp_5 + rub_supp_6 + rub_supp_7 + localiter_supp + localiter_supp1  + localiter_supp2  + localiter_supp3 + localiter_supp4 + localiter_supp5 + localiter_supp6 + localiter_supp7 ;

            $('input[id="fayssal"]').val(total);

            var fayssal1 = $("#fayssal").val();
            var fayssal = fayssal1.replace(/[^0-9\.]/g, '');
        }


        var selectfct = function () {








            if($(".r").is(":checked")){



                var rub =  $('#check:checked').attr("value").split('|');


                $(" input[value*='"+rub[0]+"|']").parent().hide();
                $(".r input[value*='"+rub[0]+"|").parent().show();


                $('.arms').prop('disabled', false);

                $('.armss').prop('disabled', false);


            }else{


                var rub =  $(this).attr("value").split('|');
                $(" input[value*='"+rub[0]+"|").parent().show();


                $(".arms").prop('disabled', 'disabled');

                $('.armss').prop('disabled', 'disabled');

                $('.arms').prop('checked', false);

                $('.armss').prop('checked', false);


                $('input[id=localiter_supp]').val(0);
                $('input[id=final]').val(0);

                calculate_rubrique_total();

                $("#ville_principe_view_supp").html(null);
                $("#ville_principe_view_supp").hide();
                $("#select_ville_principe_supp").show();



                $("#ville_principe_view").html(null);
                $("#ville_principe_view").hide();
                $("#select_ville_principe").show();
            }
        };
        $(selectfct);

        $(".r").click(selectfct);



        var selectfct1 = function () {

            if($(".r1").is(":checked")){


                var rub =  $('#check1:checked').attr("value").split('|');


                $(" input[value*='"+rub[0]+"|']").parent().hide();
                $(".r1 input[value*='"+rub[0]+"|").parent().show();


                $('.arms1').prop('disabled', false);

                $('.armss1').prop('disabled', false);


            }else{

                var rub =  $(this).attr("value").split('|');
                $(" input[value*='"+rub[0]+"|").parent().show();


                $(".arms1").prop('disabled', 'disabled');

                $('.armss1').prop('disabled', 'disabled');

                $('.arms1').prop('checked', false);

                $('.armss1').prop('checked', false);


                $('input[id=rub_supp_1]').val(0);
                $('input[id=localiter_supp1]').val(0);

                calculate_rubrique_total();

                $("#ville_principe_view_supp_1").html(null);
                $("#ville_principe_view_supp_1").hide();
                $("#select_ville_principe_supp_1").show();



                $("#ville_principe_view_1").html(null);
                $("#ville_principe_view_1").hide();
                $("#select_ville_principe_1").show();
            }
        };

        $(selectfct1);

        $(".r1").click(selectfct1);





        var selectfct2 = function () {






            if($(".r2").is(":checked")){


                var rub =  $('#check2:checked').attr("value").split('|');


                $(" input[value*='"+rub[0]+"|']").parent().hide();
                $(".r2 input[value*='"+rub[0]+"|").parent().show();


                $('.arms2').prop('disabled', false);

                $('.armss2').prop('disabled', false);


            }else{

                var rub =  $(this).attr("value").split('|');
                $(" input[value*='"+rub[0]+"|").parent().show();


                $(".arms2").prop('disabled', 'disabled');

                $('.armss2').prop('disabled', 'disabled');

                $('.arms2').prop('checked', false);

                $('.armss2').prop('checked', false);


                $('input[id=rub_supp_2]').val(0);
                $('input[id=localiter_supp2]').val(0);

                calculate_rubrique_total();

                $("#ville_principe_view_supp_2").html(null);
                $("#ville_principe_view_supp_2").hide();
                $("#select_ville_principe_supp_2").show();



                $("#ville_principe_view_2").html(null);
                $("#ville_principe_view_2").hide();
                $("#select_ville_principe_2").show();
            }
        };

        $(selectfct2);

        $(".r2").click(selectfct2);




        var selectfct3 = function () {


            if($(".r3").is(":checked")){


                var rub =  $('#check3:checked').attr("value").split('|');


                $(" input[value*='"+rub[0]+"|']").parent().hide();
                $(".r3 input[value*='"+rub[0]+"|").parent().show();


                $('.arms3').prop('disabled', false);

                $('.armss3').prop('disabled', false);


            }else{

                var rub =  $(this).attr("value").split('|');
                $(" input[value*='"+rub[0]+"|").parent().show();


                $(".arms3").prop('disabled', 'disabled');

                $('.armss3').prop('disabled', 'disabled');

                $('.arms3').prop('checked', false);

                $('.armss3').prop('checked', false);


                $('input[id=rub_supp_3]').val(0);
                $('input[id=localiter_supp3]').val(0);

                calculate_rubrique_total();

                $("#ville_principe_view_supp_3").html(null);
                $("#ville_principe_view_supp_3").hide();
                $("#select_ville_principe_supp_3").show();



                $("#ville_principe_view_3").html(null);
                $("#ville_principe_view_3").hide();
                $("#select_ville_principe_3").show();
            }
        };

        $(selectfct3);

        $(".r3").click(selectfct3);


        var selectfct4 = function () {


            if($(".r4").is(":checked")){




                var rub =  $('#check4:checked').attr("value").split('|');


                $(" input[value*='"+rub[0]+"|']").parent().hide();
                $(".r4 input[value*='"+rub[0]+"|").parent().show();


                $('.arms4').prop('disabled', false);

                $('.armss4').prop('disabled', false);


            }else{

                var rub =  $(this).attr("value").split('|');
                $(" input[value*='"+rub[0]+"|").parent().show();

                $(".arms4").prop('disabled', 'disabled');

                $('.armss4').prop('disabled', 'disabled');

                $('.arms4').prop('checked', false);

                $('.armss4').prop('checked', false);


                $('input[id=rub_supp_4]').val(0);
                $('input[id=localiter_supp4]').val(0);

                calculate_rubrique_total();

                $("#ville_principe_view_supp_4").html(null);
                $("#ville_principe_view_supp_4").hide();
                $("#select_ville_principe_supp_4").show();



                $("#ville_principe_view_4").html(null);
                $("#ville_principe_view_4").hide();
                $("#select_ville_principe_4").show();
            }
        };

        $(selectfct4);

        $(".r4").click(selectfct4);


        var selectfct5 = function () {


            if($(".r5").is(":checked")){

                $('.arms5').prop('disabled', false);

                $('.armss5').prop('disabled', false);


            }else{

                var rub =  $(this).attr("value").split('|');
                $(" input[value*='"+rub[0]+"|").parent().show();


                $(".arms5").prop('disabled', 'disabled');

                $('.armss5').prop('disabled', 'disabled');

                $('.arms5').prop('checked', false);

                $('.armss5').prop('checked', false);


                $('input[id=rub_supp_5]').val(0);
                $('input[id=localiter_supp5]').val(0);

                calculate_rubrique_total();

                $("#ville_principe_view_supp_5").html(null);
                $("#ville_principe_view_supp_5").hide();
                $("#select_ville_principe_supp_5").show();



                $("#ville_principe_view_5").html(null);
                $("#ville_principe_view_5").hide();
                $("#select_ville_principe_5").show();
            }
        };

        $(selectfct5);

        $(".r5").click(selectfct5);





        function cal(){

            if($(".my-activity").is(":checked")) {
                var totald = +$("#raniad").val() || 0;

            }
            else{
                var totald =0;
            }
            if($(".region").is(":checked")) {

                var total = +$("#rania").val() || 0;
            }
            else{
                var total = 0;
            }

            /* if($(".profession").is(":checked")) {
             var totalp = +$("#prix").val() || 0;
             }
             else{
             var totalp = 0;
             }
             */



            var vat = +$("#mari").val() || 0;
            var vard = +$("#rubd").val() || 0;
            var final = +$("#resulta").val() || 0;
            var prixp = +$("#prix").val() || 0;


            console.log(totald) ;
            /*   alert(vat);
             alert(total);
             alert(vard);*/

            if($(".my-activitys").is(":checked") == true ){
                //do something

                console.log('profesion test prix',prixp);
                if($(".region").is(":checked")) {
                    var t1=(vat+ total+vard+final).toString().replace(/\B(?=(\d{3})+(?!\d))/g, " ")
                    $("#fayssal").val(t1);
                }
                else{

                    var t1=(vat+vard+final+totald+prixp).toString().replace(/\B(?=(\d{3})+(?!\d))/g, " ")
                    console.log('rrrrrrrrrrrrr',t1);
                    $("#fayssal").val(t1);
                    /* prof();*/
                }

            }
            else if($(".region").is(":checked") == true){
                //do something


                if($(".region").is(":checked")) {
                    console.log('rrrrrrr',prixp);

                    var t1=(vat+ total+vard+final+prixp).toString().replace(/\B(?=(\d{3})+(?!\d))/g, " ")
                    $("#fayssal").val(t1 );

                }
                else{
                    var t1=(vat+vard+final+totald).toString().replace(/\B(?=(\d{3})+(?!\d))/g, " ")
                    $("#fayssal").val(t1 );
                    prof();
                }
            }
            else if($(".profession").is(":checked") === true){
                //do something
                console.log('testtttttttttt',vat+vard+final)
                if($(".profession").is(":checked")  ) {
                    var t1=(vat+vard+final+prixp).toString().replace(/\B(?=(\d{3})+(?!\d))/g, " ")
                    $("#fayssal").val(t1 );
                }
                else{
                    var t1=(0).toString().replace(/\B(?=(\d{3})+(?!\d))/g, " ")
                    $("#fayssal").val(t1 );
                }
            }
            else{

                $("#rania").val(0);
                $("#raniad").val(0);
                $("#fayssal").val(0);
            }



        }



        function kas(){

            cal();

            $('.loaders').css('display', '');
            var fayssal1 = $("#fayssal").val();
            var fayssal = fayssal1.replace(/[^0-9\.]/g, '');

            form = $('#jsForm ');
            var data_send = {'nbr': fayssal};
            $.ajax({
                url: '{{ path('referencement_commande_devis_ref') }}',
                type: 'POST',
                data: data_send,
                statusCode: {
                    //traitement en cas de succès
                    200: function (response) {
                        var successMessage = response;


                        console.log(successMessage);
                        /*  $('#prestation').children("option").remove();*/
                        //on vide les champs formulaires ou on le supprime ou ...
                        //on retire le loader...

                        $('.loaders').css('display', 'none');

//                    window.location.href = "http://localhost/ecommerce/web/app_dev.php/devis_affichage";
                    },
                    //traitement en cas d'erreur (on peut aussi traiter le cas erreur 500...)
                    412: function (response) {
                        var errorsForm = response.responseJSON.formErrors;
                        //on affiche les erreurs...
                        alert('error');

                    }
                }
            });
            sendajax();
        }

        function sendajax(){


            $('.loaders').css('display','');
            form =$('#jsForm ');
            $.ajax({
                url: '{{ path('referencement_commande_ajax_send') }}',
                type: 'POST',
                data: form.serialize(),
                statusCode: {
                    //traitement en cas de succès
                    200: function (response) {
                        var successMessage = response;

                        /*  $('#prestation').children("option").remove();*/
                        //on vide les champs formulaires ou on le supprime ou ...
                        //on retire le loader...
                        $('.loaders').css('display','none');

                    },
                    //traitement en cas d'erreur (on peut aussi traiter le cas erreur 500...)
                    412: function (response) {
                        var errorsForm = response.responseJSON.formErrors;
                        //on affiche les erreurs...
                        alert('error');
                    }
                }
            });


        }




/*
        $("#num1").on("keydown keyup change load  ", function() {
            var num1 = $("#num1").val();
            document.getElementById('nbr_rubrique').value = num1;
            if (num1 == 0) {
                $("#rubrique").show();
                $("#select_rub_prest").hide();
                $("#select_rub_prest1").hide();
                $("#select_rub_prest2").hide();
                $("#select_rub_prest3").hide();
                $("#select_rub_prest4").hide();
                $("#select_rub_prest5").hide();
                $("#select_rub_prest6").hide();
                $('.r,.r1,.r2,.r3,.r4,.r5,.r6,.prest1,.prest2,.prest3,.prest4,.prest5,.prest6,.prest7').prop('checked', false);

            }
            else
            if(num1==1)
            {
                $("#rubrique").show();
                $("#select_rub_prest").show();
                $("#select_rub_prest1").hide();
                $("#select_rub_prest2").hide();
                $("#select_rub_prest3").hide();
                $("#select_rub_prest4").hide();
                $("#select_rub_prest5").hide();
                $("#select_rub_prest6").hide();

                $('.r1,.r2,.r3,.r4,.r5,.r6,.prest2,.prest3,.prest4,.prest5,.prest6,.prest7').prop('checked', false);
            }
            else
            if(num1==2)
            {
                $("#rubrique").show();
                $("#select_rub_prest").show();
                $("#select_rub_prest1").show();
                $("#select_rub_prest2").hide();
                $("#select_rub_prest3").hide();
                $("#select_rub_prest4").hide();
                $("#select_rub_prest5").hide();
                $("#select_rub_prest6").hide();


                $('.r2,.r3,.r4,.r5,.r6,.prest3,.prest4,.prest5,.prest6,.prest7').prop('checked', false);
            }
            else
            if(num1==3)
            {
                $("#rubrique").show();
                $("#select_rub_prest").show();
                $("#select_rub_prest1").show();
                $("#select_rub_prest2").show();
                $("#select_rub_prest3").hide();
                $("#select_rub_prest4").hide();
                $("#select_rub_prest5").hide();
                $("#select_rub_prest6").hide();



                $('.r3,.r4,.r5,.r6,.prest4,.prest5,.prest6,.prest7').prop('checked', false);
            }
            else
            if(num1==4)
            {
                $("#rubrique").show();
                $("#select_rub_prest").show();
                $("#select_rub_prest1").show();
                $("#select_rub_prest2").show();
                $("#select_rub_prest3").show();
                $("#select_rub_prest4").hide();
                $("#select_rub_prest5").hide();
                $("#select_rub_prest6").hide();

                $('.r4,.r5,.r6,.prest5,.prest6,.prest7').prop('checked', false);
            }
            else
            if(num1==5)
            {
                $("#rubrique").show();
                $("#select_rub_prest").show();
                $("#select_rub_prest1").show();
                $("#select_rub_prest2").show();
                $("#select_rub_prest3").show();
                $("#select_rub_prest4").show();
                $("#select_rub_prest5").hide();
                $("#select_rub_prest6").hide();
                $('.r5,.r6,.prest6,.prest7').prop('checked', false);


            }
            else
            if(num1==6)
            {
                $("#rubrique").show();
                $("#select_rub_prest").show();
                $("#select_rub_prest1").show();
                $("#select_rub_prest2").show();
                $("#select_rub_prest3").show();
                $("#select_rub_prest4").show();
                $("#select_rub_prest4").show();
                $("#select_rub_prest5").show();
                $("#select_rub_prest6").hide();
                $('.r6,.prest7').prop('checked', false);
            }
            else
            if(num1==7)
            {
                $("#rubrique").show();
                $("#select_rub_prest").show();
                $("#select_rub_prest1").show();
                $("#select_rub_prest2").show();
                $("#select_rub_prest3").show();
                $("#select_rub_prest4").show();
                $("#select_rub_prest4").show();
                $("#select_rub_prest5").show();
                $("#select_rub_prest6").show();
            }
            $('.loaders').css('display','');
            var nbr_rub =$('input[name=num1]').val();
            /!*alert(nbr_rub)*!/
            var data_send  = {'nbr_rub':nbr_rub};
            $.ajax({
                url: '{{ path('referencement_commande_devis_des_rub_nbr_rub') }}',
                type: 'POST',
                data: data_send,
                statusCode: {
                    //traitement en cas de succès
                    200: function (response) {
                        var successMessage = response;

                        console.log(successMessage);
                        /!*  $('#prestation').children("option").remove();*!/
                        //on vide les champs formulaires ou on le supprime ou ...
                        //on retire le loader...
                        //window.location.href = "http://localhost/ecommerce/web/app_dev.php/devis_affichage";

                        $('.loaders').css('display','none');
                    },
                    //traitement en cas d'erreur (on peut aussi traiter le cas erreur 500...)
                    412: function (response) {
                        var errorsForm = response.responseJSON.formErrors;
                        //on affiche les erreurs...
                        alert('error');
                    }
                }
            });
            /!*else
             {
             $("#rubrique").show();
             $("#select_rub_prest").show();
             $("#select_rub_prest1").show();
             }*!/

            $('#prestaAjax').css('display','');

       /!*     if($('.region').is(':checked')){
                Reg();
                $('#prestaAjax').css('display','none');
            }
            else if('.my-activitys') {
                rub();
                $('#prestaAjax').css('display','none');
            }
            else{
                $('input[id=rubd]').val(0);
            }*!/

            var num1 = document.getElementById('num1').value;
            var result = parseInt(num1) * 3;
            document.getElementById('sum').value = result;
            cal();
            kas();

        });
*/



        function rub() {
            var num1 = document.getElementById('num1').value;
            if (num1 >=2) {
                var ctar = 'RV';
                console.log("CHANGE rubrique AND prestation sssss ....................");
                var select = jQuery(this);
                var rub = $('input[name=num1]').val();
                var rubdes = $('option[name=r_count]:selected').val();

                var v = $('input[name=villes]:checked').val();
                var o = $('input[class=my-activity]:checked').val();
                $('#prestaAjax').show();
                console.log('ville : ', v, 'opt1 :', o, 'rubrique: ',rub, 'rubrique description: ',rubdes );
                var data_send = {'ville': v, 'opt1': o, 'region': v, 'ctar': ctar};
                $.ajax({
                    url: '{{ path('ajaxRef') }}',
                    type: 'POST',
                    data: data_send,
                    statusCode: {
                        //traitement en cas de succès
                        200: function (response) {
                            var successMessage = response.nom.VAR;
                            var rubrique = (rub - 1) * successMessage;
                            console.log(rubrique);
                            $('input[id=rubd]').val(rubrique);

                            $('#prestaAjax').hide();
                            kas();
                        },
                        412: function (response) {
                            var errorsForm = response.responseJSON.formErrors;
                            //on affiche les erreurs...
                            alert('error');
                            $('#prestaAjax').hide();
                        }
                    }
                });
            }
            else{
                $('input[id=rubd]').val(0);
            }
        }
        function Reg() {
            var num1 = document.getElementById('num1').value;
            if (num1 >=2) {
                var ctar = 'RL';
                console.log("CHANGE rubrique AND prestation sssss .reg...................");
                var select = jQuery(this);
                var rub = $('input[name=num1]').val();

                var v = $('input[name=regions]:checked').val();
                var o = $('input[class=region]:checked').val();

                console.log('ville : ', v, 'opt1 :', o, 'rubrique: ',rub);
                var data_send = {'ville': v, 'opt1': o, 'region': v, 'ctar': ctar};
                $.ajax({
                    url: '{{ path('ajaxRef') }}',
                    type: 'POST',
                    data: data_send,
                    statusCode: {
                        //traitement en cas de succès
                        200: function (response) {
                            var successMessage = response.nom.VAR;
                            var rubrique = (rub - 1) * successMessage;
                            console.log(rubrique);
                            $('input[id=rubd]').val(rubrique);
                            cal();
                            kas();
                        },
                        412: function (response) {
                            var errorsForm = response.responseJSON.formErrors;
                            //on affiche les erreurs...
                            alert('error');
                        }
                    }
                });
            }
            else{
                $('input[id=rubd]').val(0);
            }
        }



        $("#num3").on("keydown keyup change load", function() {



            var marq = $("#num3").val();
            var marque =marq/3;
            var marque = -Math.abs(marque);
            var marque =Math.floor(marque);
            var marque = Math.abs(marque);
            var num3 = document.getElementById('num3').value;
            var result3 = Math.ceil(parseInt(num3)/3)  * 1500;
            document.getElementById("mari").value = result3;
            document.getElementById("marque_pack").value = marque;

            if (marq == 0) {
                $(".marques,.m,.m1,.m2,.m3,.m4,.m5,.m6,.m7,.m8,.m9").hide();
                $("#g,#g1,#g2,#g3,#g4,#g5,#g6,#g7,#g8,#g9").hide();
                $('.p1,.p2,.p3,.p4,.p5,.p6,.p7,.p8,.p9,.p10').prop('checked', false);
                document.getElementById("marq","marq1","marq2","marq3","marq4","marq5","marq6","marq7","marq8","marq9").value = null;
                document.getElementById("marque","marque1","marque2","marque3","marque4","marque5","marque6","marque7","marque8","marque9").value = null;
            }
            else
            if(marq==1){
                $(".marques,.m").show();$(".m1,.m2,.m3,.m4,.m5,.m6,.m7,.m8,.m9").hide();
                $("#g").show();$("#g1,#g2,#g3,#g4,#g5,#g6,#g7,#g8,#g9").hide();
                $('.p2,.p3,.p4,.p5,.p6,.p7,.p8,.p9,.p10').prop('checked', false);
                document.getElementById("marq1","marq2","marq3","marq4","marq5","marq6","marq7","marq8","marq9").value = null;
                document.getElementById("marque1","marque2","marque3","marque4","marque5","marque6","marque7","marque8","marque9").value = null;

            }
            else
            if(marq==2){
                $(".marques,.m,.m1").show();$(".m2,.m3,.m4,.m5,.m6,.m7,.m8,.m9").hide();
                $("#g,#g1").show();$("#g2,#g3,#g4,#g5,#g6,#g7,#g8,#g9").hide();
                $('.p3,.p4,.p5,.p6,.p7,.p8,.p9,.p10').prop('checked', false);
                document.getElementById("marq2","marq3","marq4","marq5","marq6","marq7","marq8","marq9").value = null;
                document.getElementById("marque2","marque3","marque4","marque5","marque6","marque7","marque8","marque9").value = null;
            }
            else
            if(marq==3){
                $(".marques,.m,.m1,.m2").show();$(".m3,.m4,.m5,.m6,.m7,.m8,.m9").hide();
                $("#g,#g1,#g2").show();$("#g3,#g4,#g5,#g6,#g7,#g8,#g9").hide();
                $('.p4,.p5,.p6,.p7,.p8,.p9,.p10').prop('checked', false);
                document.getElementById("marq3","marq4","marq5","marq6","marq7","marq8","marq9").value = null;
                document.getElementById("marque3","marque4","marque5","marque6","marque7","marque8","marque9").value = null;
            }
            else
            if(marq==4){
                $(".marques,.m,.m1,.m2,.m3").show();$(".m4,.m5,.m6,.m7,.m8,.m9").hide();
                $("#g,#g1,#g2,#g3").show();$("#g4,#g5,#g6,#g7,#g8,#g9").hide();
                $('.p5,.p6,.p7,.p8,.p9,.p10').prop('checked', false);
                document.getElementById("marq4","marq5","marq6","marq7","marq8","marq9").value = null;
                document.getElementById("marque4","marque5","marque6","marque7","marque8","marque9").value = null;
            }
            else
            if(marq==5){
                $(".marques,.m,.m1,.m2,.m3,.m4").show();$(".m5,.m6,.m7,.m8,.m9").hide();
                $("#g,#g1,#g2,#g3,#g4").show();$("#g5,#g6,#g7,#g8,#g9").hide();
                $('.p6,.p7,.p8,.p9,.p10').prop('checked', false);
                document.getElementById("marq5","marq6","marq7","marq8","marq9").value = null;
                document.getElementById("marque5","marque6","marque7","marque8","marque9").value = null;
            }
            else
            if(marq==6){
                $(".marques,.m,.m1,.m2,.m3,.m4,.m5").show();$(".m6,.m7,.m8,.m9").hide();
                $("#g,#g1,#g2,#g3,#g4,#g5").show();$("#g6,#g7,#g8,#g9").hide();
                $('.p7,.p8,.p9,.p10').prop('checked', false);
                document.getElementById("marq6","marq7","marq8","marq9").value = null;
                document.getElementById("marque6","marque7","marque8","marque9").value = null;
            }
            else
            if (marq==7) {
                $(".marques,.m,.m1,.m2,.m3,.m4,.m5,.m6").show();$(".m7,.m8,.m9").hide();
                $("#g,#g1,#g2,#g3,#g4,#g5,#g6").show();$("#g7,#g8,#g9").hide();
                $('.p8,.p9,.p10').prop('checked', false);
                document.getElementById("marq7","marq8","marq9").value = null;
                document.getElementById("marque7","marque8","marque9").value = null;
            }
            else
            if(marq==8){
                $(".marques,.m,.m1,.m2,.m3,.m4,.m5,.m6,.m7,.m8").show();$(".m8,.m9").hide();
                $("#g,#g1,#g2,#g3,#g4,#g5,#g6,#g7").show();$("#g8,#g9").hide();
                $('.p9,.p10').prop('checked', false);
                document.getElementById("marq8","marq9").value = null;
                document.getElementById("marque8","marque9").value = null;
            }
            else
            if(marq==9){
                $(".marques,.m,.m1,.m2,.m3,.m4,.m5,.m6,.m7,.m8,.m8").show();$(".m9").hide();
                $("#g,#g1,#g2,#g3,#g4,#g5,#g6,#g7,#g8").show();$("#g9").hide();
                $('.p10').prop('checked', false);
                document.getElementById("marq9").value = null;
                document.getElementById("marque9").value = null;
            }
            else
            if(marq==10){
                $(".marques,.m,.m1,.m2,.m3,.m4,.m5,.m6,.m7,.m8,.m8,.m9").show();
                $("#g,#g1,#g2,#g3,#g4,#g5,#g6,#g7,#g8,#g9").show();
            }

            cal();
            kas();
        });



        $(window,"#num3").on("load", function() {

            var marq = $("#num3").val();
            var marque =marq/3;
            var marque = -Math.abs(marque);
            var marque =Math.floor(marque);
            var marque = Math.abs(marque);
            var num3 = document.getElementById('num3').value;
            var result3 = Math.ceil(parseInt(num3)/3)  * 1500;
            document.getElementById("mari").value = result3;
            document.getElementById("marque_pack").value = marque;

            if (marq == 0) {
                $(".marques,.m,.m1,.m2,.m3,.m4,.m5,.m6,.m7,.m8,.m9").hide();
                $("#g,#g1,#g2,#g3,#g4,#g5,#g6,#g7,#g8,#g9").hide();
                $('.p1,.p2,.p3,.p4,.p5,.p6,.p7,.p8,.p9,.p10').prop('checked', false);
                document.getElementById("marq","marq1","marq2","marq3","marq4","marq5","marq6","marq7","marq8","marq9").value = null;
                document.getElementById("marque","marque1","marque2","marque3","marque4","marque5","marque6","marque7","marque8","marque9").value = null;
            }
            else
            if(marq==1){
                $(".marques,.m").show();$(".m1,.m2,.m3,.m4,.m5,.m6,.m7,.m8,.m9").hide();
                $("#g").show();$("#g1,#g2,#g3,#g4,#g5,#g6,#g7,#g8,#g9").hide();
                $('.p2,.p3,.p4,.p5,.p6,.p7,.p8,.p9,.p10').prop('checked', false);
                document.getElementById("marq1","marq2","marq3","marq4","marq5","marq6","marq7","marq8","marq9").value = null;
                document.getElementById("marque1","marque2","marque3","marque4","marque5","marque6","marque7","marque8","marque9").value = null;

            }
            else
            if(marq==2){
                $(".marques,.m,.m1").show();$(".m2,.m3,.m4,.m5,.m6,.m7,.m8,.m9").hide();
                $("#g,#g1").show();$("#g2,#g3,#g4,#g5,#g6,#g7,#g8,#g9").hide();
                $('.p3,.p4,.p5,.p6,.p7,.p8,.p9,.p10').prop('checked', false);
                document.getElementById("marq2","marq3","marq4","marq5","marq6","marq7","marq8","marq9").value = null;
                document.getElementById("marque2","marque3","marque4","marque5","marque6","marque7","marque8","marque9").value = null;
            }
            else
            if(marq==3){
                $(".marques,.m,.m1,.m2").show();$(".m3,.m4,.m5,.m6,.m7,.m8,.m9").hide();
                $("#g,#g1,#g2").show();$("#g3,#g4,#g5,#g6,#g7,#g8,#g9").hide();
                $('.p4,.p5,.p6,.p7,.p8,.p9,.p10').prop('checked', false);
                document.getElementById("marq3","marq4","marq5","marq6","marq7","marq8","marq9").value = null;
                document.getElementById("marque3","marque4","marque5","marque6","marque7","marque8","marque9").value = null;
            }
            else
            if(marq==4){
                $(".marques,.m,.m1,.m2,.m3").show();$(".m4,.m5,.m6,.m7,.m8,.m9").hide();
                $("#g,#g1,#g2,#g3").show();$("#g4,#g5,#g6,#g7,#g8,#g9").hide();
                $('.p5,.p6,.p7,.p8,.p9,.p10').prop('checked', false);
                document.getElementById("marq4","marq5","marq6","marq7","marq8","marq9").value = null;
                document.getElementById("marque4","marque5","marque6","marque7","marque8","marque9").value = null;
            }
            else
            if(marq==5){
                $(".marques,.m,.m1,.m2,.m3,.m4").show();$(".m5,.m6,.m7,.m8,.m9").hide();
                $("#g,#g1,#g2,#g3,#g4").show();$("#g5,#g6,#g7,#g8,#g9").hide();
                $('.p6,.p7,.p8,.p9,.p10').prop('checked', false);
                document.getElementById("marq5","marq6","marq7","marq8","marq9").value = null;
                document.getElementById("marque5","marque6","marque7","marque8","marque9").value = null;
            }
            else
            if(marq==6){
                $(".marques,.m,.m1,.m2,.m3,.m4,.m5").show();$(".m6,.m7,.m8,.m9").hide();
                $("#g,#g1,#g2,#g3,#g4,#g5").show();$("#g6,#g7,#g8,#g9").hide();
                $('.p7,.p8,.p9,.p10').prop('checked', false);
                document.getElementById("marq6","marq7","marq8","marq9").value = null;
                document.getElementById("marque6","marque7","marque8","marque9").value = null;
            }
            else
            if (marq==7) {
                $(".marques,.m,.m1,.m2,.m3,.m4,.m5,.m6").show();$(".m7,.m8,.m9").hide();
                $("#g,#g1,#g2,#g3,#g4,#g5,#g6").show();$("#g7,#g8,#g9").hide();
                $('.p8,.p9,.p10').prop('checked', false);
                document.getElementById("marq7","marq8","marq9").value = null;
                document.getElementById("marque7","marque8","marque9").value = null;
            }
            else
            if(marq==8){
                $(".marques,.m,.m1,.m2,.m3,.m4,.m5,.m6,.m7,.m8").show();$(".m8,.m9").hide();
                $("#g,#g1,#g2,#g3,#g4,#g5,#g6,#g7").show();$("#g8,#g9").hide();
                $('.p9,.p10').prop('checked', false);
                document.getElementById("marq8","marq9").value = null;
                document.getElementById("marque8","marque9").value = null;
            }
            else
            if(marq==9){
                $(".marques,.m,.m1,.m2,.m3,.m4,.m5,.m6,.m7,.m8,.m8").show();$(".m9").hide();
                $("#g,#g1,#g2,#g3,#g4,#g5,#g6,#g7,#g8").show();$("#g9").hide();
                $('.p10').prop('checked', false);
                document.getElementById("marq9").value = null;
                document.getElementById("marque9").value = null;
            }
            else
            if(marq==10){
                $(".marques,.m,.m1,.m2,.m3,.m4,.m5,.m6,.m7,.m8,.m8,.m9").show();
                $("#g,#g1,#g2,#g3,#g4,#g5,#g6,#g7,#g8,#g9").show();
            }
        });
    </script>
